[
    {
        "id": "e3d50ca128618d25",
        "type": "tab",
        "label": "HOWTO",
        "disabled": true,
        "info": "",
        "env": []
    },
    {
        "id": "826b66944d2ea9c6",
        "type": "tab",
        "label": "MODY",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "40976d4f9924475d",
        "type": "tab",
        "label": "Blokace baterie",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "2efbb2c387baa4ed",
        "type": "tab",
        "label": "Zaporny SPOT",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "544c6ea44ef141f3",
        "type": "tab",
        "label": "OLD",
        "disabled": true,
        "info": "",
        "env": []
    },
    {
        "id": "04fc6f64b0f16b36",
        "type": "tab",
        "label": "THEME",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "ad275c7dd1641a5d",
        "type": "group",
        "z": "826b66944d2ea9c6",
        "name": "Blokace vybíjení",
        "style": {
            "label": true,
            "color": "#0070c0",
            "fill": "#ffefbf"
        },
        "nodes": [
            "927b74d2820fde77",
            "dd8a84b4db2ad2b4",
            "664f9c683d1ab76a",
            "0253da1d6bc74df1",
            "29c2f47fecb44d75",
            "154207e74f0b1985",
            "ae796b3cb095cb72",
            "1ce32ba5d92787c3",
            "47b653f37ea45bf6",
            "8bcb1d058256c751",
            "1eb37bfcb9555280",
            "0fb340a6b0c7df95",
            "2100e0d707aac53f",
            "96a0651004c5b45f",
            "546e7033f5be4faf"
        ],
        "x": 594,
        "y": 579
    },
    {
        "id": "36b1fc6a0c6be4ab",
        "type": "group",
        "z": "826b66944d2ea9c6",
        "name": "Blokace baterie",
        "style": {
            "label": true,
            "color": "#0070c0",
            "fill": "#ffefbf"
        },
        "nodes": [
            "b7220e1222efe44e",
            "b3b89e30dddd8f6c",
            "3f4d8c1b7fed7d4b",
            "c0fa5b57a1287e3e",
            "6d16b3460d9cbdf5",
            "24ba71877caa75b7",
            "f45ab4c2d3627cdc",
            "5824ddf44e14a66d",
            "ac6e06cb25afabac",
            "60d1c109bc5342a7",
            "6701d7c5ccadfb12",
            "4580d441822a4821",
            "966ef075669a4926",
            "044d9dc31d0a2ead",
            "f7ac938a22919930"
        ],
        "x": 594,
        "y": 879
    },
    {
        "id": "1839a11bb3af9122",
        "type": "group",
        "z": "826b66944d2ea9c6",
        "name": "Přetoky povolené",
        "style": {
            "label": true,
            "color": "#0070c0",
            "fill": "#ffefbf"
        },
        "nodes": [
            "562dfdf9936f8ee4",
            "064f06f0e2677782",
            "3d7be483690bed88",
            "724b1d40913c97bb",
            "2a8d97fca22a8a4d",
            "85b34e4e9d2862e7",
            "cdd98ca0a8fc6238",
            "f160487b7775ac70",
            "9a553aa522e2943f",
            "2a0ffc9fb4b36310",
            "f5c8b450d0190e91"
        ],
        "x": 614,
        "y": 2399
    },
    {
        "id": "6bec1b21e15e125a",
        "type": "group",
        "z": "826b66944d2ea9c6",
        "name": "Přetoky minimální",
        "style": {
            "label": true,
            "color": "#0070c0",
            "fill": "#ffefbf"
        },
        "nodes": [
            "2aa517d37e6391c4",
            "136dc41dce331d15",
            "c432449bbc7c0710",
            "8fbe508751ca0e70",
            "0d1cee464b35433c",
            "549fde6fb7df0de7",
            "4448714faf6d29ea",
            "9dfd4c3ec69f577f",
            "462cf1290bcb020f"
        ],
        "x": 584,
        "y": 2659
    },
    {
        "id": "75bc0f57f0c1767d",
        "type": "group",
        "z": "826b66944d2ea9c6",
        "name": "Přetoky zakázané",
        "style": {
            "label": true,
            "color": "#0070c0",
            "fill": "#ffefbf"
        },
        "nodes": [
            "8798af1a80906ba8",
            "a1d32f66b4a7ea86",
            "7dcf5ea8a6d9dd94",
            "ca896aa14a762829",
            "cfd235eded1b0cb3",
            "2652ecda0bc68deb",
            "929c040254462a8a",
            "a8135539ebf988e3",
            "46d9eea1892f889a"
        ],
        "x": 584,
        "y": 2939
    },
    {
        "id": "e726750c5bce96f7",
        "type": "group",
        "z": "826b66944d2ea9c6",
        "name": "Normální",
        "style": {
            "fill": "#ffefbf",
            "label": true,
            "color": "#0070c0"
        },
        "nodes": [
            "902bec1e7df2b265",
            "887e3c97322c21b4",
            "7e4f54b53d3b1eae",
            "e8ebf5113fcda386",
            "8123960aa5cdbe0b",
            "cac2f24116ce8177",
            "480b76722981faa4",
            "da846e539a9a17d8",
            "a81bde1b09414bcc",
            "c4168ea9ad227a98",
            "df9673ce9cadd73a",
            "6fd095fcfd69a788",
            "b0c631ae8a8345fd",
            "1ca0aecb935f5117",
            "70d2d1158bfb9c3d",
            "96e50ae78301674d",
            "598919090b151ba4"
        ],
        "x": 594,
        "y": 239
    },
    {
        "id": "15922584d609f6a7",
        "type": "group",
        "z": "826b66944d2ea9c6",
        "name": "Nabíjení ze sítě",
        "style": {
            "fill": "#ffefbf",
            "label": true,
            "color": "#0070c0"
        },
        "nodes": [
            "078c50187bca3e1e",
            "ff39ab703366989a",
            "96ecbbc45bdd4048",
            "d26c7a2da3c2ef85",
            "88ed7849f338f853",
            "c180f70773b0825b",
            "3e877a830a3d5b5b",
            "a36f2fbae0a2fe8c",
            "0fbf1a988ceac8ec",
            "1706eea2f8eae127",
            "fa73274e3d68480c",
            "c593f06cf61586b1",
            "44283fa0df3a6521",
            "d3a987774d46c57b",
            "1cef386f53efad3d",
            "3faf91c535fa4f24",
            "2b83d5a3af10a626",
            "cfc0d644db499a8c",
            "26697ed43a4625f7",
            "9b3376bea278f395",
            "77294e43970d4935",
            "d3a11e19c5e61c2f",
            "805381a13e88b1d5",
            "5a6f01126d57848c",
            "0b19b054619008aa",
            "13eba58d80d5ab01",
            "c852a6c3ea6be569",
            "3d98ae646accd057",
            "62d34f9079efb76c",
            "1ccc488bf357605d",
            "a7c11a31f753decd",
            "b93f66b8a9f926ca",
            "3e90ec8a85d6c7af",
            "ebe1a188bb031fd1",
            "a6813032f25172b2",
            "638fdd9ab69a19db",
            "03a379742d99b1a3",
            "fd9f1e5015d22db5",
            "10df84c3ce305421"
        ],
        "x": 594,
        "y": 1239
    },
    {
        "id": "e8513d9ae365297c",
        "type": "group",
        "z": "826b66944d2ea9c6",
        "name": "Vybíjení do sítě",
        "style": {
            "stroke": "#a4a4a4",
            "label": true,
            "color": "#0070c0",
            "fill": "#ffefbf"
        },
        "nodes": [
            "ee16a5e03c8c8b7d",
            "98d242ffafde0d2e",
            "0f2272a47cc2e07d",
            "636cd41a0e353f97",
            "27aeb0e62ebbe28b",
            "b39ac550fed021da",
            "87ff256ad442f599",
            "47713150f6047b50",
            "201ed02d820b4edd",
            "91d39c24b19bda0e",
            "83ad56a94a089671",
            "f559497c061e29ac",
            "7ba147091995d3e8",
            "aea26fb9e02c73a1",
            "83ef71905405ef88",
            "3a0cc29890a59232",
            "95c8ed56ba5707b4",
            "c6d647c107bfb139",
            "98850b4bd226bc2a",
            "cfad4f9d06770623",
            "240a897b67703ace",
            "9d9028ce09806a87",
            "5ef9ed71610757bc",
            "026960c4117a2e42",
            "49079e3963635eea",
            "f79ef031f51a934e",
            "19b708e437f61c95",
            "a5815eebd02495d4",
            "c2cb9c726015855f",
            "d773f0279eee7e5c",
            "3c6576903c3926ec"
        ],
        "x": 574,
        "y": 1819
    },
    {
        "id": "f2df2bfd.c1f268",
        "type": "server",
        "name": "Home Assistant",
        "addon": true
    },
    {
        "id": "28cac500.2618cc",
        "type": "server",
        "name": "Home Assistant",
        "addon": true
    },
    {
        "id": "c1542031.4fbb5",
        "type": "server",
        "name": "Home Assistant",
        "addon": true
    },
    {
        "id": "7091291f7ec32c04",
        "type": "ui_tab",
        "name": "Home",
        "icon": "dashboard",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "dc0e0d8a34d8ea40",
        "type": "ui_base",
        "theme": {
            "name": "theme-light",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
            },
            "themeState": {
                "base-color": {
                    "default": "#0094CE",
                    "value": "#0094CE",
                    "edited": false
                },
                "page-titlebar-backgroundColor": {
                    "value": "#0094CE",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#fafafa",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#1bbfff",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#111111",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#0094ce",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey",
                "palette": "light"
            }
        },
        "site": {
            "name": "Node-RED Dashboard",
            "hideToolbar": "false",
            "allowSwipe": "false",
            "lockMenu": "false",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "c2b4510fedf5250c",
        "type": "ui_group",
        "name": "testnr",
        "tab": "f6dec2a126caebd2",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "f6dec2a126caebd2",
        "type": "ui_tab",
        "name": "Home2",
        "icon": "dashboard",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "82136dea.a6d7a",
        "type": "server",
        "name": "Home Assistant",
        "addon": true,
        "rejectUnauthorizedCerts": true,
        "ha_boolean": "y|yes|true|on|home|open",
        "connectionDelay": true,
        "cacheJson": true
    },
    {
        "id": "8c51b0bb.698c3",
        "type": "server",
        "name": "Home Assistant",
        "addon": true
    },
    {
        "id": "5ea223cb963dfd2a",
        "type": "api-current-state",
        "z": "e3d50ca128618d25",
        "name": "if entity1 > entity2",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 2,
        "halt_if": "$entities('input_number.nr_export_limit').state",
        "halt_if_type": "jsonata",
        "halt_if_compare": "gt",
        "entity_id": "input_number.nr_export_limit",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 190,
        "y": 80,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "96d673158b8d0eb4",
        "type": "api-call-service",
        "z": "e3d50ca128618d25",
        "name": "nastaveni hodnoty z jineho senzoru",
        "server": "28cac500.2618cc",
        "version": 5,
        "debugenabled": true,
        "domain": "number",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "number.grid_export_limit"
        ],
        "data": "{\"value\":42}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 240,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "9813df86b59acc8d",
        "type": "api-current-state",
        "z": "e3d50ca128618d25",
        "name": "nr_export_limit",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_number.nr_export_limit",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 180,
        "y": 280,
        "wires": [
            [
                "375d6884758b0598"
            ]
        ]
    },
    {
        "id": "375d6884758b0598",
        "type": "api-call-service",
        "z": "e3d50ca128618d25",
        "name": "",
        "server": "f2df2bfd.c1f268",
        "version": 5,
        "debugenabled": false,
        "domain": "number",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "number.grid_export_limit"
        ],
        "data": "{\"value\":\"{{payload}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 390,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "352002cb2305f54c",
        "type": "api-call-service",
        "z": "e3d50ca128618d25",
        "name": "previsou gw produc mode",
        "server": "28cac500.2618cc",
        "version": 5,
        "debugenabled": true,
        "domain": "input_select",
        "service": "select_previous",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.gw_production_mode"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 210,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "bde0d090a000af4e",
        "type": "api-current-state",
        "z": "e3d50ca128618d25",
        "name": "if nr_export_limit = grid_export_limit",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 2,
        "halt_if": "$entities('number.grid_export_limit').state",
        "halt_if_type": "jsonata",
        "halt_if_compare": "is",
        "entity_id": "input_number.nr_export_limit",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 240,
        "y": 220,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "e6613b4aedb880d7",
        "type": "api-call-service",
        "z": "e3d50ca128618d25",
        "name": "set VAR | NR Export Limit",
        "server": "28cac500.2618cc",
        "version": 5,
        "debugenabled": true,
        "domain": "number",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "number.grid_export_limit"
        ],
        "data": "{\"value\":$number($entities(\"input_number.nr_export_limit\").state)}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 270,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "5a3c3d27c077984b",
        "type": "inject",
        "z": "e3d50ca128618d25",
        "name": "15s",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "15",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "c1b941cd7c7a50cb",
        "type": "server-state-changed",
        "z": "826b66944d2ea9c6",
        "name": "select GW Inverter Mode",
        "server": "c1542031.4fbb5",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_select.gw_inverter_mode",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 210,
        "y": 860,
        "wires": [
            [
                "c89688ab4a193c64"
            ]
        ]
    },
    {
        "id": "c89688ab4a193c64",
        "type": "switch",
        "z": "826b66944d2ea9c6",
        "name": "select mode",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Normální",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Blokace vybíjení",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Blokace baterie",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Nabíjení ze sítě",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Vybíjení do sítě",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 5,
        "x": 430,
        "y": 860,
        "wires": [
            [
                "cac2f24116ce8177"
            ],
            [
                "ae796b3cb095cb72"
            ],
            [
                "f45ab4c2d3627cdc"
            ],
            [
                "fa73274e3d68480c"
            ],
            [
                "47713150f6047b50"
            ]
        ]
    },
    {
        "id": "902bec1e7df2b265",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "e726750c5bce96f7",
        "name": "if Mode = general",
        "server": "c1542031.4fbb5",
        "version": 3,
        "outputs": 2,
        "halt_if": "general",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "select.inverter_operation_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "seconds",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 930,
        "y": 340,
        "wires": [
            [],
            [
                "7e4f54b53d3b1eae"
            ]
        ]
    },
    {
        "id": "9665649cdf26e837",
        "type": "server-state-changed",
        "z": "826b66944d2ea9c6",
        "name": "select GW Production Mode",
        "server": "c1542031.4fbb5",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_select.gw_production_mode",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 200,
        "y": 2700,
        "wires": [
            [
                "135009728e7a67bd"
            ]
        ]
    },
    {
        "id": "135009728e7a67bd",
        "type": "switch",
        "z": "826b66944d2ea9c6",
        "name": "select mode",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Povolené",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Minimální",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Zakázané",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Podle SPOTu",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 4,
        "x": 430,
        "y": 2700,
        "wires": [
            [
                "562dfdf9936f8ee4"
            ],
            [
                "8fbe508751ca0e70"
            ],
            [
                "8798af1a80906ba8"
            ],
            []
        ]
    },
    {
        "id": "887e3c97322c21b4",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "e726750c5bce96f7",
        "name": "FVE Status - Normální",
        "server": "c1542031.4fbb5",
        "version": 5,
        "debugenabled": false,
        "domain": "input_text",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_text.gw_fve_status_set"
        ],
        "data": "{\"value\":\"Normální\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 3260,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "2aa517d37e6391c4",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "6bec1b21e15e125a",
        "name": "FVE Pretoky Status - Minimální",
        "server": "c1542031.4fbb5",
        "version": 5,
        "debugenabled": false,
        "domain": "input_text",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_text.gw_fve_pretoky_status_set"
        ],
        "data": "{\"value\":\"Minimální\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2110,
        "y": 2700,
        "wires": [
            []
        ]
    },
    {
        "id": "136dc41dce331d15",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "6bec1b21e15e125a",
        "name": "set Export Limit = 50W",
        "server": "28cac500.2618cc",
        "version": 5,
        "debugenabled": true,
        "domain": "number",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "number.grid_export_limit"
        ],
        "data": "{\"value\":\"50.0\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1440,
        "y": 2760,
        "wires": [
            [
                "0d1cee464b35433c"
            ]
        ]
    },
    {
        "id": "7e4f54b53d3b1eae",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "e726750c5bce96f7",
        "name": "set Mode = General",
        "server": "f2df2bfd.c1f268",
        "version": 5,
        "debugenabled": false,
        "domain": "select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "select.inverter_operation_mode"
        ],
        "data": "{\"option\":\"general\"}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1230,
        "y": 360,
        "wires": [
            [
                "e8ebf5113fcda386"
            ]
        ]
    },
    {
        "id": "b7220e1222efe44e",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "36b1fc6a0c6be4ab",
        "name": "if Mode = eco_discharge",
        "server": "c1542031.4fbb5",
        "version": 3,
        "outputs": 2,
        "halt_if": "eco_discharge",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "select.inverter_operation_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "seconds",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1950,
        "y": 940,
        "wires": [
            [
                "b3b89e30dddd8f6c"
            ],
            [
                "3f4d8c1b7fed7d4b"
            ]
        ]
    },
    {
        "id": "b3b89e30dddd8f6c",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "36b1fc6a0c6be4ab",
        "name": "FVE Status - Blokace baterie",
        "server": "c1542031.4fbb5",
        "version": 5,
        "debugenabled": false,
        "domain": "input_text",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_text.gw_fve_status_set"
        ],
        "data": "{\"value\":\"Blokace baterie\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2920,
        "y": 940,
        "wires": [
            []
        ]
    },
    {
        "id": "3f4d8c1b7fed7d4b",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "36b1fc6a0c6be4ab",
        "name": "set Mode = eco_discharge",
        "server": "f2df2bfd.c1f268",
        "version": 5,
        "debugenabled": false,
        "domain": "select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "select.inverter_operation_mode"
        ],
        "data": "{\"option\":\"eco_discharge\"}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2200,
        "y": 1000,
        "wires": [
            [
                "4580d441822a4821"
            ]
        ]
    },
    {
        "id": "c0fa5b57a1287e3e",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "36b1fc6a0c6be4ab",
        "name": "if Eco Mode Power = 1%",
        "server": "28cac500.2618cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "1.0",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "number.eco_mode_power",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 950,
        "y": 980,
        "wires": [
            [
                "b7220e1222efe44e"
            ],
            [
                "6d16b3460d9cbdf5"
            ]
        ]
    },
    {
        "id": "6d16b3460d9cbdf5",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "36b1fc6a0c6be4ab",
        "name": "set Eco Mode Power = 1%",
        "server": "28cac500.2618cc",
        "version": 5,
        "debugenabled": true,
        "domain": "number",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "number.eco_mode_power"
        ],
        "data": "{\"value\":\"1.0\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1260,
        "y": 1000,
        "wires": [
            [
                "5824ddf44e14a66d"
            ]
        ]
    },
    {
        "id": "ee16a5e03c8c8b7d",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "e8513d9ae365297c",
        "name": "if Mode = eco_discharge",
        "server": "c1542031.4fbb5",
        "version": 3,
        "outputs": 2,
        "halt_if": "eco_discharge",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "select.inverter_operation_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "seconds",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 3150,
        "y": 1860,
        "wires": [
            [
                "87ff256ad442f599"
            ],
            [
                "98d242ffafde0d2e"
            ]
        ]
    },
    {
        "id": "98d242ffafde0d2e",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "e8513d9ae365297c",
        "name": "set Mode = eco_discharge",
        "server": "f2df2bfd.c1f268",
        "version": 5,
        "debugenabled": false,
        "domain": "select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "select.inverter_operation_mode"
        ],
        "data": "{\"option\":\"eco_discharge\"}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 3400,
        "y": 1920,
        "wires": [
            [
                "98850b4bd226bc2a"
            ]
        ]
    },
    {
        "id": "0f2272a47cc2e07d",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "e8513d9ae365297c",
        "name": "if Eco Mode Power = 80%",
        "server": "28cac500.2618cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "80.0",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "number.eco_mode_power",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 2210,
        "y": 1860,
        "wires": [
            [
                "ee16a5e03c8c8b7d"
            ],
            [
                "636cd41a0e353f97"
            ]
        ]
    },
    {
        "id": "636cd41a0e353f97",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "e8513d9ae365297c",
        "name": "set Eco Mode Power = 80%",
        "server": "28cac500.2618cc",
        "version": 5,
        "debugenabled": true,
        "domain": "number",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "number.eco_mode_power"
        ],
        "data": "{\"value\":\"80\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2460,
        "y": 1920,
        "wires": [
            [
                "aea26fb9e02c73a1"
            ]
        ]
    },
    {
        "id": "27aeb0e62ebbe28b",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "e8513d9ae365297c",
        "name": "if GW Prod. Mode = Povolené",
        "server": "c1542031.4fbb5",
        "version": 3,
        "outputs": 2,
        "halt_if": "Povolené",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.gw_production_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "seconds",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1190,
        "y": 1860,
        "wires": [
            [
                "0f2272a47cc2e07d"
            ],
            [
                "b39ac550fed021da"
            ]
        ]
    },
    {
        "id": "b39ac550fed021da",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "e8513d9ae365297c",
        "name": "set GW Prod. Mode = Povolené",
        "server": "f2df2bfd.c1f268",
        "version": 5,
        "debugenabled": false,
        "domain": "input_select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.gw_production_mode"
        ],
        "data": "{\"option\":\"Povolené\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1470,
        "y": 1900,
        "wires": [
            [
                "91d39c24b19bda0e"
            ]
        ]
    },
    {
        "id": "87ff256ad442f599",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "e8513d9ae365297c",
        "name": "FVE Status - Vybíjení do sítě",
        "server": "c1542031.4fbb5",
        "version": 5,
        "debugenabled": false,
        "domain": "input_text",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_text.gw_fve_status_set"
        ],
        "data": "{\"value\":\"Vybíjení do sítě\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 4120,
        "y": 1860,
        "wires": [
            []
        ]
    },
    {
        "id": "927b74d2820fde77",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "ad275c7dd1641a5d",
        "name": "if Depth of Discharge = 0%",
        "server": "28cac500.2618cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "0.0",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "number.depth_of_discharge_on_grid",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 960,
        "y": 680,
        "wires": [
            [
                "664f9c683d1ab76a"
            ],
            [
                "dd8a84b4db2ad2b4"
            ]
        ]
    },
    {
        "id": "dd8a84b4db2ad2b4",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "ad275c7dd1641a5d",
        "name": "set Depth of Discharge = 0%",
        "server": "28cac500.2618cc",
        "version": 5,
        "debugenabled": true,
        "domain": "number",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "number.depth_of_discharge_on_grid"
        ],
        "data": "{\"value\":\"0.0\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1300,
        "y": 700,
        "wires": [
            [
                "1ce32ba5d92787c3"
            ]
        ]
    },
    {
        "id": "664f9c683d1ab76a",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "ad275c7dd1641a5d",
        "name": "if Mode = general",
        "server": "c1542031.4fbb5",
        "version": 3,
        "outputs": 2,
        "halt_if": "general",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "select.inverter_operation_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "seconds",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1990,
        "y": 620,
        "wires": [
            [
                "0253da1d6bc74df1"
            ],
            [
                "29c2f47fecb44d75"
            ]
        ]
    },
    {
        "id": "0253da1d6bc74df1",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "ad275c7dd1641a5d",
        "name": "FVE Status - Blokace vybíjení",
        "server": "c1542031.4fbb5",
        "version": 5,
        "debugenabled": false,
        "domain": "input_text",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_text.gw_fve_status_set"
        ],
        "data": "{\"value\":\"Blokace vybíjení\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2850,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "078c50187bca3e1e",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "15922584d609f6a7",
        "name": "if Mode = eco_charge",
        "server": "c1542031.4fbb5",
        "version": 3,
        "outputs": 2,
        "halt_if": "eco_charge",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "select.inverter_operation_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "seconds",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 3740,
        "y": 1320,
        "wires": [
            [
                "3e877a830a3d5b5b"
            ],
            [
                "ff39ab703366989a"
            ]
        ]
    },
    {
        "id": "ff39ab703366989a",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "15922584d609f6a7",
        "name": "set Mode = eco_charge",
        "server": "f2df2bfd.c1f268",
        "version": 5,
        "debugenabled": false,
        "domain": "select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "select.inverter_operation_mode"
        ],
        "data": "{\"option\":\"eco_charge\"}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 3870,
        "y": 1420,
        "wires": [
            [
                "5a6f01126d57848c"
            ]
        ]
    },
    {
        "id": "96ecbbc45bdd4048",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "15922584d609f6a7",
        "name": "if Eco Mode Power = 80%",
        "server": "28cac500.2618cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "80.0",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "number.eco_mode_power",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1990,
        "y": 1320,
        "wires": [
            [
                "a36f2fbae0a2fe8c"
            ],
            [
                "d26c7a2da3c2ef85"
            ]
        ]
    },
    {
        "id": "d26c7a2da3c2ef85",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "15922584d609f6a7",
        "name": "set Eco Mode Power = 80%",
        "server": "28cac500.2618cc",
        "version": 5,
        "debugenabled": true,
        "domain": "number",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "number.eco_mode_power"
        ],
        "data": "{\"value\":\"80.0\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2180,
        "y": 1380,
        "wires": [
            [
                "3faf91c535fa4f24"
            ]
        ]
    },
    {
        "id": "88ed7849f338f853",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "15922584d609f6a7",
        "name": "if GW Prod. Mode = Normální",
        "server": "c1542031.4fbb5",
        "version": 3,
        "outputs": 2,
        "halt_if": "Normální",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.gw_production_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "seconds",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 930,
        "y": 1340,
        "wires": [
            [
                "96ecbbc45bdd4048"
            ],
            [
                "c180f70773b0825b"
            ]
        ]
    },
    {
        "id": "c180f70773b0825b",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "15922584d609f6a7",
        "name": "set GW Prod. Mode = Povolené",
        "server": "f2df2bfd.c1f268",
        "version": 5,
        "debugenabled": false,
        "domain": "input_select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.gw_production_mode"
        ],
        "data": "{\"option\":\"Povolené\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1250,
        "y": 1360,
        "wires": [
            [
                "c593f06cf61586b1"
            ]
        ]
    },
    {
        "id": "3e877a830a3d5b5b",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "15922584d609f6a7",
        "name": "FVE Status - Nabíjení ze sítě",
        "server": "c1542031.4fbb5",
        "version": 5,
        "debugenabled": false,
        "domain": "input_text",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_text.gw_fve_status_set"
        ],
        "data": "{\"value\":\"Nabíjení ze sítě\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 4540,
        "y": 1340,
        "wires": [
            []
        ]
    },
    {
        "id": "a36f2fbae0a2fe8c",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "15922584d609f6a7",
        "name": "if Depth of Discharge = 90%",
        "server": "28cac500.2618cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "90.0",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "number.depth_of_discharge_on_grid",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 2880,
        "y": 1320,
        "wires": [
            [
                "078c50187bca3e1e"
            ],
            [
                "0fbf1a988ceac8ec"
            ]
        ]
    },
    {
        "id": "0fbf1a988ceac8ec",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "15922584d609f6a7",
        "name": "set Depth of Discharge = 90%",
        "server": "28cac500.2618cc",
        "version": 5,
        "debugenabled": true,
        "domain": "number",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "number.depth_of_discharge_on_grid"
        ],
        "data": "{\"value\":\"90.0\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 3030,
        "y": 1400,
        "wires": [
            [
                "9b3376bea278f395"
            ]
        ]
    },
    {
        "id": "e8ebf5113fcda386",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "e726750c5bce96f7",
        "name": "",
        "pauseType": "delay",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1420,
        "y": 360,
        "wires": [
            [
                "da846e539a9a17d8"
            ]
        ]
    },
    {
        "id": "29c2f47fecb44d75",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "ad275c7dd1641a5d",
        "name": "set Mode = General",
        "server": "f2df2bfd.c1f268",
        "version": 5,
        "debugenabled": false,
        "domain": "select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "select.inverter_operation_mode"
        ],
        "data": "{\"option\":\"general\"}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2190,
        "y": 700,
        "wires": [
            [
                "0fb340a6b0c7df95"
            ]
        ]
    },
    {
        "id": "8123960aa5cdbe0b",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "e726750c5bce96f7",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 960,
        "y": 280,
        "wires": [
            [
                "902bec1e7df2b265",
                "1ca0aecb935f5117"
            ]
        ]
    },
    {
        "id": "24ba71877caa75b7",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "36b1fc6a0c6be4ab",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1000,
        "y": 920,
        "wires": [
            [
                "c0fa5b57a1287e3e"
            ]
        ]
    },
    {
        "id": "154207e74f0b1985",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "ad275c7dd1641a5d",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1000,
        "y": 620,
        "wires": [
            [
                "927b74d2820fde77"
            ]
        ]
    },
    {
        "id": "1706eea2f8eae127",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "15922584d609f6a7",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1000,
        "y": 1280,
        "wires": [
            [
                "88ed7849f338f853"
            ]
        ]
    },
    {
        "id": "cac2f24116ce8177",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "e726750c5bce96f7",
        "name": "FVE Status - Nastavuji normální",
        "server": "c1542031.4fbb5",
        "version": 5,
        "debugenabled": false,
        "domain": "input_text",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_text.gw_fve_status_set"
        ],
        "data": "{\"value\":\"Nastavuji normální...\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 750,
        "y": 280,
        "wires": [
            [
                "8123960aa5cdbe0b"
            ]
        ]
    },
    {
        "id": "ae796b3cb095cb72",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "ad275c7dd1641a5d",
        "name": "FVE Status - Nastavuji blokaci vybíjení",
        "server": "c1542031.4fbb5",
        "version": 5,
        "debugenabled": false,
        "domain": "input_text",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_text.gw_fve_status_set"
        ],
        "data": "{\"value\":\"Nastavuji blokaci vybíjení...\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 770,
        "y": 620,
        "wires": [
            [
                "154207e74f0b1985"
            ]
        ]
    },
    {
        "id": "f45ab4c2d3627cdc",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "36b1fc6a0c6be4ab",
        "name": "FVE Status - Nastavuji blokaci baterie",
        "server": "c1542031.4fbb5",
        "version": 5,
        "debugenabled": false,
        "domain": "input_text",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_text.gw_fve_status_set"
        ],
        "data": "{\"value\":\"Nastavuji blokaci baterie...\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 770,
        "y": 920,
        "wires": [
            [
                "24ba71877caa75b7"
            ]
        ]
    },
    {
        "id": "fa73274e3d68480c",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "15922584d609f6a7",
        "name": "FVE Status - Nastavuji nabíjení ze sítě",
        "server": "c1542031.4fbb5",
        "version": 5,
        "debugenabled": false,
        "domain": "input_text",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_text.gw_fve_status_set"
        ],
        "data": "{\"value\":\"Nastavuji nabíjení ze sítě..\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 770,
        "y": 1280,
        "wires": [
            [
                "1706eea2f8eae127"
            ]
        ]
    },
    {
        "id": "47713150f6047b50",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "e8513d9ae365297c",
        "name": "FVE Status - Nastavuji vybíjení do sítě",
        "server": "c1542031.4fbb5",
        "version": 5,
        "debugenabled": false,
        "domain": "input_text",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_text.gw_fve_status_set"
        ],
        "data": "{\"value\":\"Nastavuji vybíjení do sítě..\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 750,
        "y": 1860,
        "wires": [
            [
                "201ed02d820b4edd"
            ]
        ]
    },
    {
        "id": "201ed02d820b4edd",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "e8513d9ae365297c",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 980,
        "y": 1860,
        "wires": [
            [
                "27aeb0e62ebbe28b"
            ]
        ]
    },
    {
        "id": "562dfdf9936f8ee4",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "1839a11bb3af9122",
        "name": "FVE Pretoky Status - Povoluji přetoky..",
        "server": "c1542031.4fbb5",
        "version": 5,
        "debugenabled": false,
        "domain": "input_text",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_text.gw_fve_pretoky_status_set"
        ],
        "data": "{\"value\":\"Povoluji přetoky..\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 790,
        "y": 2440,
        "wires": [
            [
                "064f06f0e2677782"
            ]
        ]
    },
    {
        "id": "064f06f0e2677782",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "1839a11bb3af9122",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1020,
        "y": 2440,
        "wires": [
            [
                "85b34e4e9d2862e7"
            ]
        ]
    },
    {
        "id": "c432449bbc7c0710",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "6bec1b21e15e125a",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1020,
        "y": 2700,
        "wires": [
            [
                "9dfd4c3ec69f577f"
            ]
        ]
    },
    {
        "id": "3d7be483690bed88",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "1839a11bb3af9122",
        "name": "FVE Pretoky Status - Povoleny",
        "server": "c1542031.4fbb5",
        "version": 5,
        "debugenabled": false,
        "domain": "input_text",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_text.gw_fve_pretoky_status_set"
        ],
        "data": "{\"value\":\"Povoleny\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2410,
        "y": 2440,
        "wires": [
            []
        ]
    },
    {
        "id": "8fbe508751ca0e70",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "6bec1b21e15e125a",
        "name": "FVE Pretoky Status - Minimalizuji přetoky..",
        "server": "c1542031.4fbb5",
        "version": 5,
        "debugenabled": false,
        "domain": "input_text",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_text.gw_fve_pretoky_status_set"
        ],
        "data": "{\"value\":\"Minimalizuji přetoky..\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 780,
        "y": 2700,
        "wires": [
            [
                "c432449bbc7c0710"
            ]
        ]
    },
    {
        "id": "8798af1a80906ba8",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "75bc0f57f0c1767d",
        "name": "FVE Pretoky Status - Zakazuji přetoky..",
        "server": "c1542031.4fbb5",
        "version": 5,
        "debugenabled": false,
        "domain": "input_text",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_text.gw_fve_pretoky_status_set"
        ],
        "data": "{\"value\":\"Zakazuji přetoky..\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 770,
        "y": 2980,
        "wires": [
            [
                "7dcf5ea8a6d9dd94"
            ]
        ]
    },
    {
        "id": "480b76722981faa4",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "e726750c5bce96f7",
        "name": "",
        "pauseType": "delay",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2560,
        "y": 380,
        "wires": [
            [
                "70d2d1158bfb9c3d"
            ]
        ]
    },
    {
        "id": "da846e539a9a17d8",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "e726750c5bce96f7",
        "name": "if Mode = general",
        "server": "c1542031.4fbb5",
        "version": 3,
        "outputs": 2,
        "halt_if": "general",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "select.inverter_operation_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "seconds",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1630,
        "y": 360,
        "wires": [
            [
                "1ca0aecb935f5117"
            ],
            [
                "a81bde1b09414bcc"
            ]
        ]
    },
    {
        "id": "a81bde1b09414bcc",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "e726750c5bce96f7",
        "name": "set Mode = General",
        "server": "f2df2bfd.c1f268",
        "version": 5,
        "debugenabled": false,
        "domain": "select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "select.inverter_operation_mode"
        ],
        "data": "{\"option\":\"general\"}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1470,
        "y": 420,
        "wires": [
            [
                "c4168ea9ad227a98"
            ]
        ]
    },
    {
        "id": "c4168ea9ad227a98",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "e726750c5bce96f7",
        "name": "",
        "pauseType": "delay",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1660,
        "y": 420,
        "wires": [
            [
                "1ca0aecb935f5117"
            ]
        ]
    },
    {
        "id": "df9673ce9cadd73a",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "e726750c5bce96f7",
        "name": "",
        "pauseType": "delay",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 3060,
        "y": 460,
        "wires": [
            [
                "887e3c97322c21b4"
            ]
        ]
    },
    {
        "id": "1ce32ba5d92787c3",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "ad275c7dd1641a5d",
        "name": "",
        "pauseType": "delay",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1500,
        "y": 700,
        "wires": [
            [
                "47b653f37ea45bf6"
            ]
        ]
    },
    {
        "id": "47b653f37ea45bf6",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "ad275c7dd1641a5d",
        "name": "if Depth of Discharge = 0%",
        "server": "28cac500.2618cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "0.0",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "number.depth_of_discharge_on_grid",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1700,
        "y": 700,
        "wires": [
            [
                "664f9c683d1ab76a"
            ],
            [
                "8bcb1d058256c751"
            ]
        ]
    },
    {
        "id": "8bcb1d058256c751",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "ad275c7dd1641a5d",
        "name": "set Depth of Discharge = 0%",
        "server": "28cac500.2618cc",
        "version": 5,
        "debugenabled": true,
        "domain": "number",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "number.depth_of_discharge_on_grid"
        ],
        "data": "{\"value\":\"0.0\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1560,
        "y": 760,
        "wires": [
            [
                "1eb37bfcb9555280"
            ]
        ]
    },
    {
        "id": "1eb37bfcb9555280",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "ad275c7dd1641a5d",
        "name": "",
        "pauseType": "delay",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1760,
        "y": 760,
        "wires": [
            [
                "664f9c683d1ab76a"
            ]
        ]
    },
    {
        "id": "0fb340a6b0c7df95",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "ad275c7dd1641a5d",
        "name": "",
        "pauseType": "delay",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2360,
        "y": 700,
        "wires": [
            [
                "2100e0d707aac53f"
            ]
        ]
    },
    {
        "id": "2100e0d707aac53f",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "ad275c7dd1641a5d",
        "name": "if Mode = general",
        "server": "c1542031.4fbb5",
        "version": 3,
        "outputs": 2,
        "halt_if": "general",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "select.inverter_operation_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "seconds",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 2530,
        "y": 700,
        "wires": [
            [
                "0253da1d6bc74df1"
            ],
            [
                "96a0651004c5b45f"
            ]
        ]
    },
    {
        "id": "96a0651004c5b45f",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "ad275c7dd1641a5d",
        "name": "set Mode = General",
        "server": "f2df2bfd.c1f268",
        "version": 5,
        "debugenabled": false,
        "domain": "select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "select.inverter_operation_mode"
        ],
        "data": "{\"option\":\"general\"}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2390,
        "y": 760,
        "wires": [
            [
                "546e7033f5be4faf"
            ]
        ]
    },
    {
        "id": "546e7033f5be4faf",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "ad275c7dd1641a5d",
        "name": "",
        "pauseType": "delay",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2560,
        "y": 760,
        "wires": [
            [
                "0253da1d6bc74df1"
            ]
        ]
    },
    {
        "id": "5824ddf44e14a66d",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "36b1fc6a0c6be4ab",
        "name": "",
        "pauseType": "delay",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1460,
        "y": 1000,
        "wires": [
            [
                "ac6e06cb25afabac"
            ]
        ]
    },
    {
        "id": "ac6e06cb25afabac",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "36b1fc6a0c6be4ab",
        "name": "if Eco Mode Power = 1%",
        "server": "28cac500.2618cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "1.0",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "number.eco_mode_power",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1650,
        "y": 1000,
        "wires": [
            [
                "b7220e1222efe44e"
            ],
            [
                "60d1c109bc5342a7"
            ]
        ]
    },
    {
        "id": "60d1c109bc5342a7",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "36b1fc6a0c6be4ab",
        "name": "set Eco Mode Power = 1%",
        "server": "28cac500.2618cc",
        "version": 5,
        "debugenabled": true,
        "domain": "number",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "number.eco_mode_power"
        ],
        "data": "{\"value\":\"1.0\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1500,
        "y": 1060,
        "wires": [
            [
                "6701d7c5ccadfb12"
            ]
        ]
    },
    {
        "id": "6701d7c5ccadfb12",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "36b1fc6a0c6be4ab",
        "name": "",
        "pauseType": "delay",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1700,
        "y": 1060,
        "wires": [
            [
                "b7220e1222efe44e"
            ]
        ]
    },
    {
        "id": "4580d441822a4821",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "36b1fc6a0c6be4ab",
        "name": "",
        "pauseType": "delay",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2400,
        "y": 1000,
        "wires": [
            [
                "966ef075669a4926"
            ]
        ]
    },
    {
        "id": "966ef075669a4926",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "36b1fc6a0c6be4ab",
        "name": "if Mode = eco_discharge",
        "server": "c1542031.4fbb5",
        "version": 3,
        "outputs": 2,
        "halt_if": "eco_discharge",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "select.inverter_operation_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "seconds",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 2590,
        "y": 1000,
        "wires": [
            [
                "b3b89e30dddd8f6c"
            ],
            [
                "044d9dc31d0a2ead"
            ]
        ]
    },
    {
        "id": "044d9dc31d0a2ead",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "36b1fc6a0c6be4ab",
        "name": "set Mode = eco_discharge",
        "server": "f2df2bfd.c1f268",
        "version": 5,
        "debugenabled": false,
        "domain": "select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "select.inverter_operation_mode"
        ],
        "data": "{\"option\":\"eco_discharge\"}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2440,
        "y": 1060,
        "wires": [
            [
                "f7ac938a22919930"
            ]
        ]
    },
    {
        "id": "f7ac938a22919930",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "36b1fc6a0c6be4ab",
        "name": "",
        "pauseType": "delay",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2640,
        "y": 1060,
        "wires": [
            [
                "b3b89e30dddd8f6c"
            ]
        ]
    },
    {
        "id": "c593f06cf61586b1",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "15922584d609f6a7",
        "name": "",
        "pauseType": "delay",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1460,
        "y": 1360,
        "wires": [
            [
                "44283fa0df3a6521"
            ]
        ]
    },
    {
        "id": "44283fa0df3a6521",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "15922584d609f6a7",
        "name": "if GW Prod. Mode = Povolené",
        "server": "c1542031.4fbb5",
        "version": 3,
        "outputs": 2,
        "halt_if": "Povolené",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.gw_production_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "seconds",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1670,
        "y": 1360,
        "wires": [
            [
                "96ecbbc45bdd4048"
            ],
            [
                "d3a987774d46c57b"
            ]
        ]
    },
    {
        "id": "d3a987774d46c57b",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "15922584d609f6a7",
        "name": "set GW Prod. Mode = Povolené",
        "server": "f2df2bfd.c1f268",
        "version": 5,
        "debugenabled": false,
        "domain": "input_select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.gw_production_mode"
        ],
        "data": "{\"option\":\"Povolené\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1530,
        "y": 1420,
        "wires": [
            [
                "1cef386f53efad3d"
            ]
        ]
    },
    {
        "id": "1cef386f53efad3d",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "15922584d609f6a7",
        "name": "",
        "pauseType": "delay",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1740,
        "y": 1420,
        "wires": [
            [
                "96ecbbc45bdd4048"
            ]
        ]
    },
    {
        "id": "3faf91c535fa4f24",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "15922584d609f6a7",
        "name": "",
        "pauseType": "delay",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2380,
        "y": 1380,
        "wires": [
            [
                "2b83d5a3af10a626"
            ]
        ]
    },
    {
        "id": "2b83d5a3af10a626",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "15922584d609f6a7",
        "name": "if Eco Mode Power = 80%",
        "server": "28cac500.2618cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "80.0",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "number.eco_mode_power",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 2570,
        "y": 1380,
        "wires": [
            [
                "a36f2fbae0a2fe8c"
            ],
            [
                "cfc0d644db499a8c"
            ]
        ]
    },
    {
        "id": "cfc0d644db499a8c",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "15922584d609f6a7",
        "name": "set Eco Mode Power = 80%",
        "server": "28cac500.2618cc",
        "version": 5,
        "debugenabled": true,
        "domain": "number",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "number.eco_mode_power"
        ],
        "data": "{\"value\":\"80.0\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2420,
        "y": 1440,
        "wires": [
            [
                "26697ed43a4625f7"
            ]
        ]
    },
    {
        "id": "26697ed43a4625f7",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "15922584d609f6a7",
        "name": "",
        "pauseType": "delay",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2620,
        "y": 1440,
        "wires": [
            [
                "a36f2fbae0a2fe8c"
            ]
        ]
    },
    {
        "id": "9b3376bea278f395",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "15922584d609f6a7",
        "name": "",
        "pauseType": "delay",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 3240,
        "y": 1400,
        "wires": [
            [
                "77294e43970d4935"
            ]
        ]
    },
    {
        "id": "77294e43970d4935",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "15922584d609f6a7",
        "name": "if Depth of Discharge = 90%",
        "server": "28cac500.2618cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "90.0",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "number.depth_of_discharge_on_grid",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 3440,
        "y": 1400,
        "wires": [
            [
                "078c50187bca3e1e"
            ],
            [
                "d3a11e19c5e61c2f"
            ]
        ]
    },
    {
        "id": "d3a11e19c5e61c2f",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "15922584d609f6a7",
        "name": "set Depth of Discharge = 90%",
        "server": "28cac500.2618cc",
        "version": 5,
        "debugenabled": true,
        "domain": "number",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "number.depth_of_discharge_on_grid"
        ],
        "data": "{\"value\":\"90.0\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 3290,
        "y": 1460,
        "wires": [
            [
                "805381a13e88b1d5"
            ]
        ]
    },
    {
        "id": "805381a13e88b1d5",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "15922584d609f6a7",
        "name": "",
        "pauseType": "delay",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 3500,
        "y": 1460,
        "wires": [
            [
                "078c50187bca3e1e"
            ]
        ]
    },
    {
        "id": "5a6f01126d57848c",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "15922584d609f6a7",
        "name": "",
        "pauseType": "delay",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 4060,
        "y": 1420,
        "wires": [
            [
                "0b19b054619008aa"
            ]
        ]
    },
    {
        "id": "0b19b054619008aa",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "15922584d609f6a7",
        "name": "if Mode = eco_charge",
        "server": "c1542031.4fbb5",
        "version": 3,
        "outputs": 2,
        "halt_if": "eco_charge",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "select.inverter_operation_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "seconds",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 4240,
        "y": 1420,
        "wires": [
            [
                "3e877a830a3d5b5b"
            ],
            [
                "13eba58d80d5ab01"
            ]
        ]
    },
    {
        "id": "13eba58d80d5ab01",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "15922584d609f6a7",
        "name": "set Mode = eco_charge",
        "server": "f2df2bfd.c1f268",
        "version": 5,
        "debugenabled": false,
        "domain": "select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "select.inverter_operation_mode"
        ],
        "data": "{\"option\":\"eco_charge\"}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 4110,
        "y": 1480,
        "wires": [
            [
                "c852a6c3ea6be569"
            ]
        ]
    },
    {
        "id": "c852a6c3ea6be569",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "15922584d609f6a7",
        "name": "",
        "pauseType": "delay",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 4300,
        "y": 1480,
        "wires": [
            [
                "3e877a830a3d5b5b"
            ]
        ]
    },
    {
        "id": "91d39c24b19bda0e",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "e8513d9ae365297c",
        "name": "",
        "pauseType": "delay",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1680,
        "y": 1900,
        "wires": [
            [
                "83ad56a94a089671"
            ]
        ]
    },
    {
        "id": "83ad56a94a089671",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "e8513d9ae365297c",
        "name": "if GW Prod. Mode = Povolené",
        "server": "c1542031.4fbb5",
        "version": 3,
        "outputs": 2,
        "halt_if": "Povolené",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.gw_production_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "seconds",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1890,
        "y": 1900,
        "wires": [
            [
                "0f2272a47cc2e07d"
            ],
            [
                "f559497c061e29ac"
            ]
        ]
    },
    {
        "id": "f559497c061e29ac",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "e8513d9ae365297c",
        "name": "set GW Prod. Mode = Povolené",
        "server": "f2df2bfd.c1f268",
        "version": 5,
        "debugenabled": false,
        "domain": "input_select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.gw_production_mode"
        ],
        "data": "{\"option\":\"Povolené\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1750,
        "y": 1960,
        "wires": [
            [
                "7ba147091995d3e8"
            ]
        ]
    },
    {
        "id": "7ba147091995d3e8",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "e8513d9ae365297c",
        "name": "",
        "pauseType": "delay",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1960,
        "y": 1960,
        "wires": [
            [
                "0f2272a47cc2e07d"
            ]
        ]
    },
    {
        "id": "aea26fb9e02c73a1",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "e8513d9ae365297c",
        "name": "",
        "pauseType": "delay",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2660,
        "y": 1920,
        "wires": [
            [
                "83ef71905405ef88"
            ]
        ]
    },
    {
        "id": "83ef71905405ef88",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "e8513d9ae365297c",
        "name": "if Eco Mode Power = 80%",
        "server": "28cac500.2618cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "80.0",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "number.eco_mode_power",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 2850,
        "y": 1920,
        "wires": [
            [
                "ee16a5e03c8c8b7d"
            ],
            [
                "3a0cc29890a59232"
            ]
        ]
    },
    {
        "id": "3a0cc29890a59232",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "e8513d9ae365297c",
        "name": "set Eco Mode Power = 80%",
        "server": "28cac500.2618cc",
        "version": 5,
        "debugenabled": true,
        "domain": "number",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "number.eco_mode_power"
        ],
        "data": "{\"value\":\"80\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2700,
        "y": 1980,
        "wires": [
            [
                "95c8ed56ba5707b4"
            ]
        ]
    },
    {
        "id": "95c8ed56ba5707b4",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "e8513d9ae365297c",
        "name": "",
        "pauseType": "delay",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2900,
        "y": 1980,
        "wires": [
            [
                "ee16a5e03c8c8b7d"
            ]
        ]
    },
    {
        "id": "c6d647c107bfb139",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "e8513d9ae365297c",
        "name": "if Mode = eco_discharge",
        "server": "c1542031.4fbb5",
        "version": 3,
        "outputs": 2,
        "halt_if": "eco_discharge",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "select.inverter_operation_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "seconds",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 3790,
        "y": 1920,
        "wires": [
            [
                "87ff256ad442f599"
            ],
            [
                "cfad4f9d06770623"
            ]
        ]
    },
    {
        "id": "98850b4bd226bc2a",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "e8513d9ae365297c",
        "name": "",
        "pauseType": "delay",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 3600,
        "y": 1920,
        "wires": [
            [
                "c6d647c107bfb139"
            ]
        ]
    },
    {
        "id": "cfad4f9d06770623",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "e8513d9ae365297c",
        "name": "set Mode = eco_discharge",
        "server": "f2df2bfd.c1f268",
        "version": 5,
        "debugenabled": false,
        "domain": "select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "select.inverter_operation_mode"
        ],
        "data": "{\"option\":\"eco_discharge\"}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 3640,
        "y": 1980,
        "wires": [
            [
                "240a897b67703ace"
            ]
        ]
    },
    {
        "id": "240a897b67703ace",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "e8513d9ae365297c",
        "name": "",
        "pauseType": "delay",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 3840,
        "y": 1980,
        "wires": [
            [
                "87ff256ad442f599"
            ]
        ]
    },
    {
        "id": "724b1d40913c97bb",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "1839a11bb3af9122",
        "name": "nr_export_limit",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_number.nr_export_limit",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1460,
        "y": 2500,
        "wires": [
            [
                "2a8d97fca22a8a4d"
            ]
        ]
    },
    {
        "id": "2a8d97fca22a8a4d",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "1839a11bb3af9122",
        "name": "",
        "server": "f2df2bfd.c1f268",
        "version": 5,
        "debugenabled": false,
        "domain": "number",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "number.grid_export_limit"
        ],
        "data": "{\"value\":\"{{payload}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1670,
        "y": 2500,
        "wires": [
            [
                "cdd98ca0a8fc6238"
            ]
        ]
    },
    {
        "id": "85b34e4e9d2862e7",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "1839a11bb3af9122",
        "name": "if nr_export_limit = grid_export_limit",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 2,
        "halt_if": "$entities('number.grid_export_limit').state",
        "halt_if_type": "jsonata",
        "halt_if_compare": "is",
        "entity_id": "input_number.nr_export_limit",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1240,
        "y": 2440,
        "wires": [
            [
                "3d7be483690bed88"
            ],
            [
                "724b1d40913c97bb"
            ]
        ]
    },
    {
        "id": "cdd98ca0a8fc6238",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "1839a11bb3af9122",
        "name": "",
        "pauseType": "delay",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1840,
        "y": 2500,
        "wires": [
            [
                "f160487b7775ac70"
            ]
        ]
    },
    {
        "id": "f160487b7775ac70",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "1839a11bb3af9122",
        "name": "if nr_export_limit = grid_export_limit",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 2,
        "halt_if": "$entities('number.grid_export_limit').state",
        "halt_if_type": "jsonata",
        "halt_if_compare": "is",
        "entity_id": "input_number.nr_export_limit",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 2060,
        "y": 2500,
        "wires": [
            [
                "3d7be483690bed88"
            ],
            [
                "9a553aa522e2943f"
            ]
        ]
    },
    {
        "id": "9a553aa522e2943f",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "1839a11bb3af9122",
        "name": "nr_export_limit",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_number.nr_export_limit",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1780,
        "y": 2560,
        "wires": [
            [
                "2a0ffc9fb4b36310"
            ]
        ]
    },
    {
        "id": "2a0ffc9fb4b36310",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "1839a11bb3af9122",
        "name": "",
        "server": "f2df2bfd.c1f268",
        "version": 5,
        "debugenabled": false,
        "domain": "number",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "number.grid_export_limit"
        ],
        "data": "{\"value\":\"{{payload}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1970,
        "y": 2560,
        "wires": [
            [
                "f5c8b450d0190e91"
            ]
        ]
    },
    {
        "id": "f5c8b450d0190e91",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "1839a11bb3af9122",
        "name": "",
        "pauseType": "delay",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2140,
        "y": 2560,
        "wires": [
            [
                "3d7be483690bed88"
            ]
        ]
    },
    {
        "id": "0d1cee464b35433c",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "6bec1b21e15e125a",
        "name": "",
        "pauseType": "delay",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1620,
        "y": 2760,
        "wires": [
            [
                "462cf1290bcb020f"
            ]
        ]
    },
    {
        "id": "549fde6fb7df0de7",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "6bec1b21e15e125a",
        "name": "set Export Limit = 50W",
        "server": "28cac500.2618cc",
        "version": 5,
        "debugenabled": true,
        "domain": "number",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "number.grid_export_limit"
        ],
        "data": "{\"value\":\"50.0\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1660,
        "y": 2820,
        "wires": [
            [
                "4448714faf6d29ea"
            ]
        ]
    },
    {
        "id": "4448714faf6d29ea",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "6bec1b21e15e125a",
        "name": "",
        "pauseType": "delay",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1840,
        "y": 2820,
        "wires": [
            [
                "2aa517d37e6391c4"
            ]
        ]
    },
    {
        "id": "9dfd4c3ec69f577f",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "6bec1b21e15e125a",
        "name": "if Export Limit = 50W",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 2,
        "halt_if": "50.0",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "number.grid_export_limit",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1200,
        "y": 2700,
        "wires": [
            [
                "2aa517d37e6391c4"
            ],
            [
                "136dc41dce331d15"
            ]
        ]
    },
    {
        "id": "462cf1290bcb020f",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "6bec1b21e15e125a",
        "name": "if Export Limit = 50W",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 2,
        "halt_if": "50.0",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "number.grid_export_limit",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1800,
        "y": 2760,
        "wires": [
            [
                "2aa517d37e6391c4"
            ],
            [
                "549fde6fb7df0de7"
            ]
        ]
    },
    {
        "id": "a1d32f66b4a7ea86",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "75bc0f57f0c1767d",
        "name": "set Export Limit = 0W",
        "server": "28cac500.2618cc",
        "version": 5,
        "debugenabled": true,
        "domain": "number",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "number.grid_export_limit"
        ],
        "data": "{\"value\":\"0.0\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1420,
        "y": 3040,
        "wires": [
            [
                "ca896aa14a762829"
            ]
        ]
    },
    {
        "id": "7dcf5ea8a6d9dd94",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "75bc0f57f0c1767d",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1000,
        "y": 2980,
        "wires": [
            [
                "929c040254462a8a"
            ]
        ]
    },
    {
        "id": "ca896aa14a762829",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "75bc0f57f0c1767d",
        "name": "",
        "pauseType": "delay",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1600,
        "y": 3040,
        "wires": [
            [
                "a8135539ebf988e3"
            ]
        ]
    },
    {
        "id": "cfd235eded1b0cb3",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "75bc0f57f0c1767d",
        "name": "set Export Limit = 0W",
        "server": "28cac500.2618cc",
        "version": 5,
        "debugenabled": true,
        "domain": "number",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "number.grid_export_limit"
        ],
        "data": "{\"value\":\"0.0\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1640,
        "y": 3100,
        "wires": [
            [
                "2652ecda0bc68deb"
            ]
        ]
    },
    {
        "id": "2652ecda0bc68deb",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "75bc0f57f0c1767d",
        "name": "",
        "pauseType": "delay",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1820,
        "y": 3100,
        "wires": [
            [
                "46d9eea1892f889a"
            ]
        ]
    },
    {
        "id": "929c040254462a8a",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "75bc0f57f0c1767d",
        "name": "if Export Limit = 0W",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 2,
        "halt_if": "0.0",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "number.grid_export_limit",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1170,
        "y": 2980,
        "wires": [
            [
                "46d9eea1892f889a"
            ],
            [
                "a1d32f66b4a7ea86"
            ]
        ]
    },
    {
        "id": "a8135539ebf988e3",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "75bc0f57f0c1767d",
        "name": "if Export Limit = 0W",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 2,
        "halt_if": "0.0",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "number.grid_export_limit",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1770,
        "y": 3040,
        "wires": [
            [
                "46d9eea1892f889a"
            ],
            [
                "cfd235eded1b0cb3"
            ]
        ]
    },
    {
        "id": "46d9eea1892f889a",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "75bc0f57f0c1767d",
        "name": "FVE Pretoky Status - Zakázané",
        "server": "c1542031.4fbb5",
        "version": 5,
        "debugenabled": false,
        "domain": "input_text",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_text.gw_fve_pretoky_status_set"
        ],
        "data": "{\"value\":\"Zakázané\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2070,
        "y": 2980,
        "wires": [
            []
        ]
    },
    {
        "id": "3d98ae646accd057",
        "type": "inject",
        "z": "826b66944d2ea9c6",
        "g": "15922584d609f6a7",
        "name": "60s",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 690,
        "y": 1540,
        "wires": [
            [
                "62d34f9079efb76c"
            ]
        ]
    },
    {
        "id": "62d34f9079efb76c",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "15922584d609f6a7",
        "name": "if GW Mode = Nabíjení ze sítě | 1m",
        "server": "c1542031.4fbb5",
        "version": 3,
        "outputs": 2,
        "halt_if": "Nabíjení ze sítě",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.gw_inverter_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "1",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 900,
        "y": 1540,
        "wires": [
            [
                "3e90ec8a85d6c7af"
            ],
            []
        ]
    },
    {
        "id": "1ccc488bf357605d",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "15922584d609f6a7",
        "name": "set GW Mode = Normální",
        "server": "f2df2bfd.c1f268",
        "version": 5,
        "debugenabled": false,
        "domain": "input_select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.gw_inverter_mode"
        ],
        "data": "{\"option\":\"Normální\"}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 3070,
        "y": 1540,
        "wires": [
            []
        ]
    },
    {
        "id": "a7c11a31f753decd",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "15922584d609f6a7",
        "name": "FVE Status - Baterie nabita",
        "server": "c1542031.4fbb5",
        "version": 5,
        "debugenabled": false,
        "domain": "input_text",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_text.gw_fve_status_set"
        ],
        "data": "{\"value\":\"Baterie nabita ze sítě\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2340,
        "y": 1540,
        "wires": [
            [
                "b93f66b8a9f926ca"
            ]
        ]
    },
    {
        "id": "b93f66b8a9f926ca",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "15922584d609f6a7",
        "name": "",
        "pauseType": "delay",
        "timeout": "20",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2560,
        "y": 1540,
        "wires": [
            [
                "10df84c3ce305421"
            ]
        ]
    },
    {
        "id": "9d9028ce09806a87",
        "type": "inject",
        "z": "826b66944d2ea9c6",
        "g": "e8513d9ae365297c",
        "name": "60s",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 670,
        "y": 2100,
        "wires": [
            [
                "026960c4117a2e42"
            ]
        ]
    },
    {
        "id": "5ef9ed71610757bc",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "e8513d9ae365297c",
        "name": "if Battery Dis. Power < 100W",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 2,
        "halt_if": "100",
        "halt_if_type": "num",
        "halt_if_compare": "lte",
        "entity_id": "sensor.battery_power",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1160,
        "y": 2060,
        "wires": [
            [
                "d773f0279eee7e5c"
            ],
            []
        ]
    },
    {
        "id": "026960c4117a2e42",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "e8513d9ae365297c",
        "name": "if GW Mode = Vybíjení do sítě",
        "server": "c1542031.4fbb5",
        "version": 3,
        "outputs": 2,
        "halt_if": "Vybíjení do sítě",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.gw_inverter_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "seconds",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 870,
        "y": 2100,
        "wires": [
            [
                "5ef9ed71610757bc"
            ],
            []
        ]
    },
    {
        "id": "49079e3963635eea",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "e8513d9ae365297c",
        "name": "set GW Mode = Normální",
        "server": "f2df2bfd.c1f268",
        "version": 5,
        "debugenabled": false,
        "domain": "input_select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.gw_inverter_mode"
        ],
        "data": "{\"option\":\"Normální\"}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2330,
        "y": 2100,
        "wires": [
            []
        ]
    },
    {
        "id": "f79ef031f51a934e",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "e8513d9ae365297c",
        "name": "FVE Status - Baterie vybita",
        "server": "c1542031.4fbb5",
        "version": 5,
        "debugenabled": false,
        "domain": "input_text",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_text.gw_fve_status_set"
        ],
        "data": "{\"value\":\"Baterie vybita do sítě\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1900,
        "y": 2100,
        "wires": [
            [
                "19b708e437f61c95"
            ]
        ]
    },
    {
        "id": "19b708e437f61c95",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "e8513d9ae365297c",
        "name": "",
        "pauseType": "delay",
        "timeout": "20",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2120,
        "y": 2100,
        "wires": [
            [
                "49079e3963635eea"
            ]
        ]
    },
    {
        "id": "a5815eebd02495d4",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "e8513d9ae365297c",
        "name": "",
        "pauseType": "delay",
        "timeout": "20",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1380,
        "y": 2100,
        "wires": [
            [
                "c2cb9c726015855f"
            ]
        ]
    },
    {
        "id": "c2cb9c726015855f",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "e8513d9ae365297c",
        "name": "if Battery Dis. Power < 100W",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 2,
        "halt_if": "100",
        "halt_if_type": "num",
        "halt_if_compare": "lte",
        "entity_id": "sensor.battery_power",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1620,
        "y": 2060,
        "wires": [
            [
                "3c6576903c3926ec"
            ],
            []
        ]
    },
    {
        "id": "d773f0279eee7e5c",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "e8513d9ae365297c",
        "name": "if Battery Dis. Power >= 0W",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 2,
        "halt_if": "0",
        "halt_if_type": "num",
        "halt_if_compare": "gte",
        "entity_id": "sensor.battery_power",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1160,
        "y": 2140,
        "wires": [
            [
                "a5815eebd02495d4"
            ],
            []
        ]
    },
    {
        "id": "3c6576903c3926ec",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "e8513d9ae365297c",
        "name": "if Battery Dis. Power >= 0W",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 2,
        "halt_if": "0",
        "halt_if_type": "num",
        "halt_if_compare": "gte",
        "entity_id": "sensor.battery_power",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1620,
        "y": 2140,
        "wires": [
            [
                "f79ef031f51a934e"
            ],
            []
        ]
    },
    {
        "id": "3e90ec8a85d6c7af",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "15922584d609f6a7",
        "name": "if Battery Dis. Power <= 0W",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 2,
        "halt_if": "0",
        "halt_if_type": "num",
        "halt_if_compare": "lte",
        "entity_id": "sensor.battery_power",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1200,
        "y": 1500,
        "wires": [
            [
                "ebe1a188bb031fd1"
            ],
            []
        ]
    },
    {
        "id": "ebe1a188bb031fd1",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "15922584d609f6a7",
        "name": "if Battery Dis. Power >= -100W",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 2,
        "halt_if": "-100",
        "halt_if_type": "num",
        "halt_if_compare": "gte",
        "entity_id": "sensor.battery_power",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1210,
        "y": 1580,
        "wires": [
            [
                "a6813032f25172b2"
            ],
            []
        ]
    },
    {
        "id": "a6813032f25172b2",
        "type": "delay",
        "z": "826b66944d2ea9c6",
        "g": "15922584d609f6a7",
        "name": "",
        "pauseType": "delay",
        "timeout": "20",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1440,
        "y": 1540,
        "wires": [
            [
                "638fdd9ab69a19db"
            ]
        ]
    },
    {
        "id": "638fdd9ab69a19db",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "15922584d609f6a7",
        "name": "if Battery Dis. Power <= 0W",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 2,
        "halt_if": "0",
        "halt_if_type": "num",
        "halt_if_compare": "lte",
        "entity_id": "sensor.battery_power",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1680,
        "y": 1500,
        "wires": [
            [
                "03a379742d99b1a3"
            ],
            []
        ]
    },
    {
        "id": "03a379742d99b1a3",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "15922584d609f6a7",
        "name": "if Battery Dis. Power >= -100W",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 2,
        "halt_if": "-100",
        "halt_if_type": "num",
        "halt_if_compare": "gte",
        "entity_id": "sensor.battery_power",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1690,
        "y": 1580,
        "wires": [
            [
                "fd9f1e5015d22db5"
            ],
            []
        ]
    },
    {
        "id": "fd9f1e5015d22db5",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "15922584d609f6a7",
        "name": "if GW Mode = Nabíjení ze sítě",
        "server": "c1542031.4fbb5",
        "version": 3,
        "outputs": 2,
        "halt_if": "Nabíjení ze sítě",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.gw_inverter_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "seconds",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 2030,
        "y": 1540,
        "wires": [
            [
                "a7c11a31f753decd"
            ],
            []
        ]
    },
    {
        "id": "10df84c3ce305421",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "15922584d609f6a7",
        "name": "if GW Mode = Nabíjení ze sítě",
        "server": "c1542031.4fbb5",
        "version": 3,
        "outputs": 2,
        "halt_if": "Nabíjení ze sítě",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.gw_inverter_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "seconds",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 2790,
        "y": 1540,
        "wires": [
            [
                "1ccc488bf357605d"
            ],
            []
        ]
    },
    {
        "id": "6fd095fcfd69a788",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "e726750c5bce96f7",
        "name": "pay nr_dept_of_discharge_normal",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_number.nr_dept_of_discharge_normal",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 2040,
        "y": 380,
        "wires": [
            [
                "b0c631ae8a8345fd"
            ]
        ]
    },
    {
        "id": "b0c631ae8a8345fd",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "e726750c5bce96f7",
        "name": "payload set -> Depth of Disch.",
        "server": "f2df2bfd.c1f268",
        "version": 5,
        "debugenabled": false,
        "domain": "number",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "number.depth_of_discharge_on_grid"
        ],
        "data": "{\"value\":\"{{payload}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2330,
        "y": 380,
        "wires": [
            [
                "480b76722981faa4"
            ]
        ]
    },
    {
        "id": "1ca0aecb935f5117",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "e726750c5bce96f7",
        "name": "if nr_dept_of_discharge_normal = depth_of_discharge_on_grid",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 2,
        "halt_if": "$entities('number.depth_of_discharge_on_grid').state",
        "halt_if_type": "jsonata",
        "halt_if_compare": "is",
        "entity_id": "input_number.nr_dept_of_discharge_normal",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 2030,
        "y": 280,
        "wires": [
            [
                "887e3c97322c21b4"
            ],
            [
                "6fd095fcfd69a788"
            ]
        ]
    },
    {
        "id": "70d2d1158bfb9c3d",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "e726750c5bce96f7",
        "name": "if nr_dept_of_discharge_normal = depth_of_discharge_on_grid",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 2,
        "halt_if": "$entities('number.depth_of_discharge_on_grid').state",
        "halt_if_type": "jsonata",
        "halt_if_compare": "is",
        "entity_id": "input_number.nr_dept_of_discharge_normal",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 2870,
        "y": 380,
        "wires": [
            [
                "887e3c97322c21b4"
            ],
            [
                "96e50ae78301674d"
            ]
        ]
    },
    {
        "id": "96e50ae78301674d",
        "type": "api-current-state",
        "z": "826b66944d2ea9c6",
        "g": "e726750c5bce96f7",
        "name": "pay nr_dept_of_discharge_normal",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_number.nr_dept_of_discharge_normal",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 2540,
        "y": 460,
        "wires": [
            [
                "598919090b151ba4"
            ]
        ]
    },
    {
        "id": "598919090b151ba4",
        "type": "api-call-service",
        "z": "826b66944d2ea9c6",
        "g": "e726750c5bce96f7",
        "name": "payload set -> Depth of Disch.",
        "server": "f2df2bfd.c1f268",
        "version": 5,
        "debugenabled": false,
        "domain": "number",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "number.depth_of_discharge_on_grid"
        ],
        "data": "{\"value\":\"{{payload}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2830,
        "y": 460,
        "wires": [
            [
                "df9673ce9cadd73a"
            ]
        ]
    },
    {
        "id": "043e0c01bea2d446",
        "type": "api-current-state",
        "z": "40976d4f9924475d",
        "name": "if Hour Order > nr min. Hour Order",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 2,
        "halt_if": "$entities('input_number.nr_export_minimal_hour_order').state",
        "halt_if_type": "jsonata",
        "halt_if_compare": "gt",
        "entity_id": "sensor.current_spot_electricity_hour_order",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 300,
        "y": 360,
        "wires": [
            [
                "cc2b9969f087a138"
            ],
            [
                "c3556c9003380e43"
            ]
        ]
    },
    {
        "id": "b1a470f763a7d7dc",
        "type": "api-current-state",
        "z": "40976d4f9924475d",
        "name": "if Cond. ON | Block BAT - GOOD SPOT",
        "server": "28cac500.2618cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.nr_cond_block_battery_good_price",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 300,
        "y": 280,
        "wires": [
            [
                "043e0c01bea2d446",
                "134f22643ae87110"
            ],
            []
        ]
    },
    {
        "id": "40508e29e52323fc",
        "type": "inject",
        "z": "40976d4f9924475d",
        "name": "5min",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "300",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 290,
        "y": 220,
        "wires": [
            [
                "b1a470f763a7d7dc"
            ]
        ]
    },
    {
        "id": "cc2b9969f087a138",
        "type": "api-current-state",
        "z": "40976d4f9924475d",
        "name": "if GW Mode = Blokace baterie",
        "server": "c1542031.4fbb5",
        "version": 3,
        "outputs": 2,
        "halt_if": "Blokace baterie",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.gw_inverter_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "seconds",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 710,
        "y": 260,
        "wires": [
            [],
            [
                "0d245da996f0a55c"
            ]
        ]
    },
    {
        "id": "4da967a91b9957e1",
        "type": "api-call-service",
        "z": "40976d4f9924475d",
        "name": "set GW Mode = Blokace baterie",
        "server": "f2df2bfd.c1f268",
        "version": 5,
        "debugenabled": false,
        "domain": "input_select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.gw_inverter_mode"
        ],
        "data": "{\"option\":\"Blokace baterie\"}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1310,
        "y": 260,
        "wires": [
            [
                "ddc0abd8c9e31fdf"
            ]
        ]
    },
    {
        "id": "c3556c9003380e43",
        "type": "api-current-state",
        "z": "40976d4f9924475d",
        "name": "if GW Mode = Blokace baterie",
        "server": "c1542031.4fbb5",
        "version": 3,
        "outputs": 2,
        "halt_if": "Blokace baterie",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.gw_inverter_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "seconds",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 690,
        "y": 420,
        "wires": [
            [
                "b16b194e72dc26ed"
            ],
            []
        ]
    },
    {
        "id": "6581e89464e8a350",
        "type": "api-call-service",
        "z": "40976d4f9924475d",
        "name": "set GW Mode = Normální",
        "server": "f2df2bfd.c1f268",
        "version": 5,
        "debugenabled": false,
        "domain": "input_select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.gw_inverter_mode"
        ],
        "data": "{\"option\":\"Normální\"}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1630,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "0d245da996f0a55c",
        "type": "time-range-switch",
        "z": "40976d4f9924475d",
        "name": "",
        "lat": "",
        "lon": "",
        "startTime": "07:00",
        "endTime": "11:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 1000,
        "y": 260,
        "wires": [
            [
                "4da967a91b9957e1"
            ],
            []
        ]
    },
    {
        "id": "8e6b23cbcb430699",
        "type": "api-call-service",
        "z": "40976d4f9924475d",
        "name": "FVE Status - Blokace baterie - výhodný SPOT",
        "server": "c1542031.4fbb5",
        "version": 5,
        "debugenabled": false,
        "domain": "input_text",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_text.gw_fve_status_set"
        ],
        "data": "{\"value\":\"Blokace baterie (výhodný SPOT)\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2060,
        "y": 260,
        "wires": [
            [
                "bd2e94dd7100e6f1"
            ]
        ]
    },
    {
        "id": "ddc0abd8c9e31fdf",
        "type": "delay",
        "z": "40976d4f9924475d",
        "name": "",
        "pauseType": "delay",
        "timeout": "30",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1560,
        "y": 260,
        "wires": [
            [
                "8e6b23cbcb430699"
            ]
        ]
    },
    {
        "id": "b16b194e72dc26ed",
        "type": "api-call-service",
        "z": "40976d4f9924475d",
        "name": "FVE Status - Výhodný SPOT - povolení baterie",
        "server": "c1542031.4fbb5",
        "version": 5,
        "debugenabled": false,
        "domain": "input_text",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_text.gw_fve_status_set"
        ],
        "data": "{\"value\":\"Výhodný SPOT - povolení baterie\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1080,
        "y": 420,
        "wires": [
            [
                "9bc4116de9127941",
                "609e65c6e1ac15b4"
            ]
        ]
    },
    {
        "id": "9bc4116de9127941",
        "type": "delay",
        "z": "40976d4f9924475d",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1400,
        "y": 380,
        "wires": [
            [
                "6581e89464e8a350"
            ]
        ]
    },
    {
        "id": "17f634d8673c720c",
        "type": "api-call-service",
        "z": "40976d4f9924475d",
        "name": "Notify All - Blokace baterie (výhodný SPOT)",
        "server": "f2df2bfd.c1f268",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "notify",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"message\":\"H Blokace baterie (výhodný SPOT)\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2810,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "bd2e94dd7100e6f1",
        "type": "api-current-state",
        "z": "40976d4f9924475d",
        "name": "if Cond. ON | Notify Block Bat. Good Price",
        "server": "28cac500.2618cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.nr_cond_notify_block_battery_good_price",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 2440,
        "y": 260,
        "wires": [
            [
                "17f634d8673c720c"
            ],
            []
        ]
    },
    {
        "id": "609e65c6e1ac15b4",
        "type": "api-current-state",
        "z": "40976d4f9924475d",
        "name": "if Cond. ON | Notify Block Bat. Good Price",
        "server": "28cac500.2618cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.nr_cond_notify_block_battery_good_price",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1680,
        "y": 440,
        "wires": [
            [
                "fc26490417283445"
            ],
            []
        ]
    },
    {
        "id": "fc26490417283445",
        "type": "api-call-service",
        "z": "40976d4f9924475d",
        "name": "Notify All - Povolení baterie (normální SPOT)",
        "server": "f2df2bfd.c1f268",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "notify",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"message\":\"Povolení baterie (normální SPOT)\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2050,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "134f22643ae87110",
        "type": "time-range-switch",
        "z": "40976d4f9924475d",
        "name": "",
        "lat": "",
        "lon": "",
        "startTime": "07:00",
        "endTime": "11:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 700,
        "y": 160,
        "wires": [
            [],
            [
                "87d9ce4bb48804f6"
            ]
        ]
    },
    {
        "id": "87d9ce4bb48804f6",
        "type": "api-current-state",
        "z": "40976d4f9924475d",
        "name": "if GW Mode = Blokace baterie",
        "server": "c1542031.4fbb5",
        "version": 3,
        "outputs": 2,
        "halt_if": "Blokace baterie",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.gw_inverter_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "seconds",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 970,
        "y": 160,
        "wires": [
            [
                "6c163aa3039c698e"
            ],
            []
        ]
    },
    {
        "id": "f5d5b70468976bb5",
        "type": "delay",
        "z": "40976d4f9924475d",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1640,
        "y": 160,
        "wires": [
            [
                "8d2c19e71743c781"
            ]
        ]
    },
    {
        "id": "8d2c19e71743c781",
        "type": "api-call-service",
        "z": "40976d4f9924475d",
        "name": "set GW Mode = Normální",
        "server": "f2df2bfd.c1f268",
        "version": 5,
        "debugenabled": false,
        "domain": "input_select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.gw_inverter_mode"
        ],
        "data": "{\"option\":\"Normální\"}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1850,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "6c163aa3039c698e",
        "type": "api-call-service",
        "z": "40976d4f9924475d",
        "name": "FVE Status - nesplnena casova podminka",
        "server": "c1542031.4fbb5",
        "version": 5,
        "debugenabled": false,
        "domain": "input_text",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_text.gw_fve_status_set"
        ],
        "data": "{\"value\":\"nesplňěna časová podmínka\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1350,
        "y": 160,
        "wires": [
            [
                "f5d5b70468976bb5"
            ]
        ]
    },
    {
        "id": "d08a6ff10807285a",
        "type": "time-range-switch",
        "z": "2efbb2c387baa4ed",
        "name": "",
        "lat": "",
        "lon": "",
        "startTime": "06:00",
        "endTime": "21:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 1550,
        "y": 580,
        "wires": [
            [
                "2dcff75dfd931501"
            ],
            [
                "da09a10d98929934"
            ]
        ]
    },
    {
        "id": "09fb6278f769f865",
        "type": "api-call-service",
        "z": "2efbb2c387baa4ed",
        "name": "Notify All - Vypnuty pretoky",
        "server": "f2df2bfd.c1f268",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "notify",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"message\":\"Přetoky vypnuty (nízký spot)\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 3580,
        "y": 660,
        "wires": [
            []
        ]
    },
    {
        "id": "9843ded62a04a67d",
        "type": "api-call-service",
        "z": "2efbb2c387baa4ed",
        "name": "Notify All - Zapnuty pretoky",
        "server": "f2df2bfd.c1f268",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "notify",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"message\":\"Přetoky zapnuty (vysoký spot)\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 3840,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "79f3d6c00c4f7278",
        "type": "api-current-state",
        "z": "2efbb2c387baa4ed",
        "name": "if export_minimal_price > SPOT Price",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 2,
        "halt_if": "$entities('input_number.nr_export_minimal_price').state",
        "halt_if_type": "jsonata",
        "halt_if_compare": "gt",
        "entity_id": "sensor.current_spot_electricity_price",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1030,
        "y": 460,
        "wires": [
            [
                "0a6f5dc03cc76ba9"
            ],
            [
                "963b16f040674885"
            ]
        ]
    },
    {
        "id": "7937e243f4c669f7",
        "type": "api-call-service",
        "z": "2efbb2c387baa4ed",
        "name": "FVE Pretoky Status - Zapnuty - vyhodny spot",
        "server": "c1542031.4fbb5",
        "version": 5,
        "debugenabled": false,
        "domain": "input_text",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_text.gw_fve_pretoky_status_set"
        ],
        "data": "{\"value\":\"Přetoky zapnuty (výhodný SPOT)\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 3510,
        "y": 360,
        "wires": [
            [
                "7629abf3df087fe0"
            ]
        ]
    },
    {
        "id": "1f3143fd34963d01",
        "type": "api-call-service",
        "z": "2efbb2c387baa4ed",
        "name": "FVE Pretoky Status - Vypnuty - záporný spot",
        "server": "c1542031.4fbb5",
        "version": 5,
        "debugenabled": false,
        "domain": "input_text",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_text.gw_fve_pretoky_status_set"
        ],
        "data": "{\"value\":\"Přetoky vypnuty (záporný SPOT)\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 3230,
        "y": 580,
        "wires": [
            [
                "73813277094d18da"
            ]
        ]
    },
    {
        "id": "73813277094d18da",
        "type": "api-current-state",
        "z": "2efbb2c387baa4ed",
        "name": "if Cond. ON | Notify Block Exp. Neg. SPOT",
        "server": "28cac500.2618cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.nr_cond_notify_block_export_negative_spot",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 3250,
        "y": 660,
        "wires": [
            [
                "09fb6278f769f865"
            ],
            []
        ]
    },
    {
        "id": "7629abf3df087fe0",
        "type": "api-current-state",
        "z": "2efbb2c387baa4ed",
        "name": "if Cond. ON | Notify Block Exp. Neg. SPOT",
        "server": "28cac500.2618cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.nr_cond_notify_block_export_negative_spot",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 3510,
        "y": 420,
        "wires": [
            [
                "9843ded62a04a67d"
            ],
            []
        ]
    },
    {
        "id": "da09a10d98929934",
        "type": "api-call-service",
        "z": "2efbb2c387baa4ed",
        "name": "FVE Pretoky Status - Povoluji přetoky..",
        "server": "c1542031.4fbb5",
        "version": 5,
        "debugenabled": false,
        "domain": "input_text",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_text.gw_fve_pretoky_status_set"
        ],
        "data": "{\"value\":\"Povoluji přetoky..\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1790,
        "y": 360,
        "wires": [
            [
                "9ee4a149529cea97"
            ]
        ]
    },
    {
        "id": "9ee4a149529cea97",
        "type": "delay",
        "z": "2efbb2c387baa4ed",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2040,
        "y": 360,
        "wires": [
            [
                "965926b8ac55d03f"
            ]
        ]
    },
    {
        "id": "adec2e8bf5dbbefd",
        "type": "api-current-state",
        "z": "2efbb2c387baa4ed",
        "name": "nr_export_limit",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_number.nr_export_limit",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 2520,
        "y": 360,
        "wires": [
            [
                "bc0f9dc4145dc33e"
            ]
        ]
    },
    {
        "id": "bc0f9dc4145dc33e",
        "type": "api-call-service",
        "z": "2efbb2c387baa4ed",
        "name": "",
        "server": "f2df2bfd.c1f268",
        "version": 5,
        "debugenabled": false,
        "domain": "number",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "number.grid_export_limit"
        ],
        "data": "{\"value\":\"{{payload}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2730,
        "y": 360,
        "wires": [
            [
                "1c017d48ec2a70b1"
            ]
        ]
    },
    {
        "id": "965926b8ac55d03f",
        "type": "api-current-state",
        "z": "2efbb2c387baa4ed",
        "name": "if nr_export_limit = grid_export_limit",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 2,
        "halt_if": "$entities('number.grid_export_limit').state",
        "halt_if_type": "jsonata",
        "halt_if_compare": "is",
        "entity_id": "input_number.nr_export_limit",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 2260,
        "y": 360,
        "wires": [
            [],
            [
                "adec2e8bf5dbbefd"
            ]
        ]
    },
    {
        "id": "1c017d48ec2a70b1",
        "type": "delay",
        "z": "2efbb2c387baa4ed",
        "name": "",
        "pauseType": "delay",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2900,
        "y": 360,
        "wires": [
            [
                "aa3b6c86214b1128"
            ]
        ]
    },
    {
        "id": "aa3b6c86214b1128",
        "type": "api-current-state",
        "z": "2efbb2c387baa4ed",
        "name": "if nr_export_limit = grid_export_limit",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 2,
        "halt_if": "$entities('number.grid_export_limit').state",
        "halt_if_type": "jsonata",
        "halt_if_compare": "is",
        "entity_id": "input_number.nr_export_limit",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 3120,
        "y": 360,
        "wires": [
            [
                "7937e243f4c669f7"
            ],
            [
                "85ac2a2da73fc150"
            ]
        ]
    },
    {
        "id": "85ac2a2da73fc150",
        "type": "api-current-state",
        "z": "2efbb2c387baa4ed",
        "name": "nr_export_limit",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_number.nr_export_limit",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 2840,
        "y": 420,
        "wires": [
            [
                "911cb2a50a32b0e6"
            ]
        ]
    },
    {
        "id": "911cb2a50a32b0e6",
        "type": "api-call-service",
        "z": "2efbb2c387baa4ed",
        "name": "",
        "server": "f2df2bfd.c1f268",
        "version": 5,
        "debugenabled": false,
        "domain": "number",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "number.grid_export_limit"
        ],
        "data": "{\"value\":\"{{payload}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 3030,
        "y": 420,
        "wires": [
            [
                "db4a3cc50a0125f3"
            ]
        ]
    },
    {
        "id": "db4a3cc50a0125f3",
        "type": "delay",
        "z": "2efbb2c387baa4ed",
        "name": "",
        "pauseType": "delay",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 3200,
        "y": 420,
        "wires": [
            [
                "7937e243f4c669f7"
            ]
        ]
    },
    {
        "id": "2dcff75dfd931501",
        "type": "api-call-service",
        "z": "2efbb2c387baa4ed",
        "name": "FVE Pretoky Status - Zakazuji přetoky..",
        "server": "c1542031.4fbb5",
        "version": 5,
        "debugenabled": false,
        "domain": "input_text",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_text.gw_fve_pretoky_status_set"
        ],
        "data": "{\"value\":\"Zakazuji přetoky..\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1830,
        "y": 580,
        "wires": [
            [
                "f6b55bb1973008a0"
            ]
        ]
    },
    {
        "id": "d98d873491ccc65d",
        "type": "api-call-service",
        "z": "2efbb2c387baa4ed",
        "name": "set Export Limit = 0W",
        "server": "28cac500.2618cc",
        "version": 5,
        "debugenabled": true,
        "domain": "number",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "number.grid_export_limit"
        ],
        "data": "{\"value\":\"0.0\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2480,
        "y": 580,
        "wires": [
            [
                "84e3abf719121361"
            ]
        ]
    },
    {
        "id": "f6b55bb1973008a0",
        "type": "delay",
        "z": "2efbb2c387baa4ed",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2060,
        "y": 580,
        "wires": [
            [
                "cae3a0ff6e572e58"
            ]
        ]
    },
    {
        "id": "84e3abf719121361",
        "type": "delay",
        "z": "2efbb2c387baa4ed",
        "name": "",
        "pauseType": "delay",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2660,
        "y": 580,
        "wires": [
            [
                "150364413c8df7f2"
            ]
        ]
    },
    {
        "id": "70bedf426d49f79c",
        "type": "api-call-service",
        "z": "2efbb2c387baa4ed",
        "name": "set Export Limit = 0W",
        "server": "28cac500.2618cc",
        "version": 5,
        "debugenabled": true,
        "domain": "number",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "number.grid_export_limit"
        ],
        "data": "{\"value\":\"0.0\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2700,
        "y": 640,
        "wires": [
            [
                "ced1669033a3cd5c"
            ]
        ]
    },
    {
        "id": "ced1669033a3cd5c",
        "type": "delay",
        "z": "2efbb2c387baa4ed",
        "name": "",
        "pauseType": "delay",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2880,
        "y": 640,
        "wires": [
            [
                "1f3143fd34963d01"
            ]
        ]
    },
    {
        "id": "cae3a0ff6e572e58",
        "type": "api-current-state",
        "z": "2efbb2c387baa4ed",
        "name": "if Export Limit = 0W",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 2,
        "halt_if": "0.0",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "number.grid_export_limit",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 2230,
        "y": 580,
        "wires": [
            [],
            [
                "d98d873491ccc65d"
            ]
        ]
    },
    {
        "id": "150364413c8df7f2",
        "type": "api-current-state",
        "z": "2efbb2c387baa4ed",
        "name": "if Export Limit = 0W",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 2,
        "halt_if": "0.0",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "number.grid_export_limit",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 2830,
        "y": 580,
        "wires": [
            [
                "1f3143fd34963d01"
            ],
            [
                "70bedf426d49f79c"
            ]
        ]
    },
    {
        "id": "8068d66606b93908",
        "type": "inject",
        "z": "2efbb2c387baa4ed",
        "name": "5min",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "300",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 460,
        "wires": [
            [
                "6cbc52d4743ed9dc"
            ]
        ]
    },
    {
        "id": "6cbc52d4743ed9dc",
        "type": "api-current-state",
        "z": "2efbb2c387baa4ed",
        "name": "if Cond. ON |  Prod. Mode = Podle SPOTu",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 2,
        "halt_if": "Podle SPOTu",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.gw_production_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 360,
        "y": 460,
        "wires": [
            [
                "79f3d6c00c4f7278"
            ],
            []
        ]
    },
    {
        "id": "0a6f5dc03cc76ba9",
        "type": "api-current-state",
        "z": "2efbb2c387baa4ed",
        "name": "if NOT nr_export_limit = grid_export_limit",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 2,
        "halt_if": "$entities('number.grid_export_limit').state",
        "halt_if_type": "jsonata",
        "halt_if_compare": "is_not",
        "entity_id": "input_number.nr_export_limit",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1360,
        "y": 360,
        "wires": [
            [
                "da09a10d98929934"
            ],
            []
        ]
    },
    {
        "id": "963b16f040674885",
        "type": "api-current-state",
        "z": "2efbb2c387baa4ed",
        "name": "if nr_export_limit = grid_export_limit",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 2,
        "halt_if": "$entities('number.grid_export_limit').state",
        "halt_if_type": "jsonata",
        "halt_if_compare": "is",
        "entity_id": "input_number.nr_export_limit",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1320,
        "y": 580,
        "wires": [
            [
                "d08a6ff10807285a"
            ],
            []
        ]
    },
    {
        "id": "7b14e6131b7806c3",
        "type": "api-call-service",
        "z": "2efbb2c387baa4ed",
        "name": "FVE Pretoky Status - SPOT",
        "server": "c1542031.4fbb5",
        "version": 5,
        "debugenabled": false,
        "domain": "input_text",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_text.gw_fve_pretoky_status_set"
        ],
        "data": "{\"value\":\"SPOT\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 800,
        "y": 640,
        "wires": [
            [
                "79f3d6c00c4f7278"
            ]
        ]
    },
    {
        "id": "e808534c7eb28b3a",
        "type": "api-current-state",
        "z": "2efbb2c387baa4ed",
        "name": "if Pretoky status = SPOT",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 2,
        "halt_if": "SPOT",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.gw_fve_pretoky_status_sensor",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 670,
        "y": 500,
        "wires": [
            [
                "79f3d6c00c4f7278"
            ],
            [
                "7b14e6131b7806c3"
            ]
        ]
    },
    {
        "id": "3364ad9f5c49da09",
        "type": "time-range-switch",
        "z": "544c6ea44ef141f3",
        "name": "",
        "lat": "",
        "lon": "",
        "startTime": "06:00",
        "endTime": "21:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 1170,
        "y": 180,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "3c4563c2cb1a15d7",
        "type": "api-call-service",
        "z": "544c6ea44ef141f3",
        "name": "Notify All - Vypnuty pretoky",
        "server": "f2df2bfd.c1f268",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "notify",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"message\":\"Přetoky vypnuty (nízký spot)\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2520,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "05bc57e2fa698dce",
        "type": "api-call-service",
        "z": "544c6ea44ef141f3",
        "name": "Notify All - Zapnuty pretoky",
        "server": "f2df2bfd.c1f268",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "notify",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"message\":\"Přetoky zapnuty (vysoký spot)\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2520,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "f9b24f9f17f9af92",
        "type": "api-current-state",
        "z": "544c6ea44ef141f3",
        "name": "if Cond. ON | Block Exp. Neg. SPOT",
        "server": "28cac500.2618cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.nr_cond_block_export_negative_spot",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 890,
        "y": 220,
        "wires": [
            [
                "95a008cd795f4cae"
            ],
            []
        ]
    },
    {
        "id": "17ed02acec144a32",
        "type": "inject",
        "z": "544c6ea44ef141f3",
        "name": "5s",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 290,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "e97e5761d4b4fed3",
        "type": "api-current-state",
        "z": "544c6ea44ef141f3",
        "name": "if export_minimal_price > SPOT Price",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 2,
        "halt_if": "$entities('input_number.nr_export_minimal_price').state",
        "halt_if_type": "jsonata",
        "halt_if_compare": "gt",
        "entity_id": "sensor.current_spot_electricity_price",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 530,
        "y": 280,
        "wires": [
            [
                "f9b24f9f17f9af92"
            ],
            [
                "b4521ec02dd0330f"
            ]
        ]
    },
    {
        "id": "b4521ec02dd0330f",
        "type": "api-current-state",
        "z": "544c6ea44ef141f3",
        "name": "if Cond. ON | Block Exp. Neg. SPOT",
        "server": "28cac500.2618cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.nr_cond_block_export_negative_spot",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 890,
        "y": 340,
        "wires": [
            [
                "e92341ad5f91f3ba"
            ],
            []
        ]
    },
    {
        "id": "e92341ad5f91f3ba",
        "type": "api-current-state",
        "z": "544c6ea44ef141f3",
        "name": "if GW Prod. Mode = Zakázané",
        "server": "c1542031.4fbb5",
        "version": 3,
        "outputs": 2,
        "halt_if": "Zakázané",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.gw_production_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "seconds",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1430,
        "y": 340,
        "wires": [
            [],
            [
                "9414d847df841fb6"
            ]
        ]
    },
    {
        "id": "95a008cd795f4cae",
        "type": "api-current-state",
        "z": "544c6ea44ef141f3",
        "name": "if GW Prod. Mode = Povolené",
        "server": "c1542031.4fbb5",
        "version": 3,
        "outputs": 2,
        "halt_if": "Povolené",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.gw_production_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "seconds",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1430,
        "y": 220,
        "wires": [
            [],
            [
                "9ce12480823a208b"
            ]
        ]
    },
    {
        "id": "9ce12480823a208b",
        "type": "api-call-service",
        "z": "544c6ea44ef141f3",
        "name": "set GW Prod. Mode = Povolené",
        "server": "f2df2bfd.c1f268",
        "version": 5,
        "debugenabled": false,
        "domain": "input_select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.gw_production_mode"
        ],
        "data": "{\"option\":\"Povolené\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1750,
        "y": 220,
        "wires": [
            [
                "2244608f978cfc60"
            ]
        ]
    },
    {
        "id": "9414d847df841fb6",
        "type": "api-call-service",
        "z": "544c6ea44ef141f3",
        "name": "set GW Prod. Mode = Zakázané",
        "server": "f2df2bfd.c1f268",
        "version": 5,
        "debugenabled": false,
        "domain": "input_select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.gw_production_mode"
        ],
        "data": "{\"option\":\"Zakázané\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1750,
        "y": 340,
        "wires": [
            [
                "a80975ea5f1a838e"
            ]
        ]
    },
    {
        "id": "2244608f978cfc60",
        "type": "api-call-service",
        "z": "544c6ea44ef141f3",
        "name": "FVE Pretoky Status - Zapnuty - vyhodny spot",
        "server": "c1542031.4fbb5",
        "version": 5,
        "debugenabled": false,
        "domain": "input_text",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_text.gw_fve_pretoky_status_set"
        ],
        "data": "{\"value\":\"Přetoky zapnuty (výhodný SPOT)\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2110,
        "y": 220,
        "wires": [
            [
                "4d44cd38d57bf592"
            ]
        ]
    },
    {
        "id": "a80975ea5f1a838e",
        "type": "api-call-service",
        "z": "544c6ea44ef141f3",
        "name": "FVE Pretoky Status - Vypnuty - záporný spot",
        "server": "c1542031.4fbb5",
        "version": 5,
        "debugenabled": false,
        "domain": "input_text",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_text.gw_fve_pretoky_status_set"
        ],
        "data": "{\"value\":\"Přetoky vypnuty (záporný SPOT)\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2110,
        "y": 340,
        "wires": [
            [
                "0ba869d7663651f1"
            ]
        ]
    },
    {
        "id": "4d44cd38d57bf592",
        "type": "api-current-state",
        "z": "544c6ea44ef141f3",
        "name": "if Cond. ON | Notify Block Exp. Neg. SPOT",
        "server": "28cac500.2618cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.nr_cond_notify_block_export_negative_spot",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 2510,
        "y": 200,
        "wires": [
            [
                "3c4563c2cb1a15d7"
            ],
            []
        ]
    },
    {
        "id": "0ba869d7663651f1",
        "type": "api-current-state",
        "z": "544c6ea44ef141f3",
        "name": "if Cond. ON | Notify Block Exp. Neg. SPOT",
        "server": "28cac500.2618cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.nr_cond_notify_block_export_negative_spot",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 2510,
        "y": 360,
        "wires": [
            [
                "05bc57e2fa698dce"
            ],
            []
        ]
    },
    {
        "id": "c67f8388cf74e89b",
        "type": "time-range-switch",
        "z": "544c6ea44ef141f3",
        "name": "",
        "lat": "",
        "lon": "",
        "startTime": "06:00",
        "endTime": "21:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 1170,
        "y": 760,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "435971b8cc0628f5",
        "type": "api-call-service",
        "z": "544c6ea44ef141f3",
        "name": "Notify All - Vypnuty pretoky",
        "server": "f2df2bfd.c1f268",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "notify",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"message\":\"Přetoky vypnuty (nízký spot)\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 3200,
        "y": 920,
        "wires": [
            []
        ]
    },
    {
        "id": "16697b3060bc7f72",
        "type": "api-call-service",
        "z": "544c6ea44ef141f3",
        "name": "Notify All - Zapnuty pretoky",
        "server": "f2df2bfd.c1f268",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "notify",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"message\":\"Přetoky zapnuty (vysoký spot)\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2700,
        "y": 1240,
        "wires": [
            []
        ]
    },
    {
        "id": "d3101bb94062c03e",
        "type": "api-current-state",
        "z": "544c6ea44ef141f3",
        "name": "if Cond. ON | Block Exp. Neg. SPOT",
        "server": "28cac500.2618cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.nr_cond_block_export_negative_spot",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 890,
        "y": 800,
        "wires": [
            [
                "827b63f5285db48f"
            ],
            []
        ]
    },
    {
        "id": "463dd1d487f7b602",
        "type": "api-current-state",
        "z": "544c6ea44ef141f3",
        "name": "if export_minimal_price > SPOT Price",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 2,
        "halt_if": "$entities('input_number.nr_export_minimal_price').state",
        "halt_if_type": "jsonata",
        "halt_if_compare": "gt",
        "entity_id": "sensor.current_spot_electricity_price",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 530,
        "y": 940,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "a92b064f0726b30f",
        "type": "api-current-state",
        "z": "544c6ea44ef141f3",
        "name": "if Cond. ON | Block Exp. Neg. SPOT",
        "server": "28cac500.2618cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.nr_cond_block_export_negative_spot",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 890,
        "y": 1120,
        "wires": [
            [
                "d2b960f4bfe7d290"
            ],
            []
        ]
    },
    {
        "id": "941cd5d7646512ea",
        "type": "api-call-service",
        "z": "544c6ea44ef141f3",
        "name": "FVE Pretoky Status - Zapnuty - vyhodny spot",
        "server": "c1542031.4fbb5",
        "version": 5,
        "debugenabled": false,
        "domain": "input_text",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_text.gw_fve_pretoky_status_set"
        ],
        "data": "{\"value\":\"Přetoky zapnuty (výhodný SPOT)\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 3170,
        "y": 800,
        "wires": [
            [
                "4a65fab75c5c0a6e"
            ]
        ]
    },
    {
        "id": "86e690e5b9f148d2",
        "type": "api-call-service",
        "z": "544c6ea44ef141f3",
        "name": "FVE Pretoky Status - Vypnuty - záporný spot",
        "server": "c1542031.4fbb5",
        "version": 5,
        "debugenabled": false,
        "domain": "input_text",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_text.gw_fve_pretoky_status_set"
        ],
        "data": "{\"value\":\"Přetoky vypnuty (záporný SPOT)\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2710,
        "y": 1120,
        "wires": [
            [
                "3ddea3a7bb7e3aef"
            ]
        ]
    },
    {
        "id": "4a65fab75c5c0a6e",
        "type": "api-current-state",
        "z": "544c6ea44ef141f3",
        "name": "if Cond. ON | Notify Block Exp. Neg. SPOT",
        "server": "28cac500.2618cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.nr_cond_notify_block_export_negative_spot",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 3210,
        "y": 860,
        "wires": [
            [
                "435971b8cc0628f5"
            ],
            []
        ]
    },
    {
        "id": "3ddea3a7bb7e3aef",
        "type": "api-current-state",
        "z": "544c6ea44ef141f3",
        "name": "if Cond. ON | Notify Block Exp. Neg. SPOT",
        "server": "28cac500.2618cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.nr_cond_notify_block_export_negative_spot",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 2710,
        "y": 1180,
        "wires": [
            [
                "16697b3060bc7f72"
            ],
            []
        ]
    },
    {
        "id": "827b63f5285db48f",
        "type": "api-call-service",
        "z": "544c6ea44ef141f3",
        "name": "FVE Pretoky Status - Povoluji přetoky..",
        "server": "c1542031.4fbb5",
        "version": 5,
        "debugenabled": false,
        "domain": "input_text",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_text.gw_fve_pretoky_status_set"
        ],
        "data": "{\"value\":\"Povoluji přetoky..\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1450,
        "y": 800,
        "wires": [
            [
                "45b21ccdafdd7716"
            ]
        ]
    },
    {
        "id": "45b21ccdafdd7716",
        "type": "delay",
        "z": "544c6ea44ef141f3",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1700,
        "y": 800,
        "wires": [
            [
                "b8c10f27e07d3dd1"
            ]
        ]
    },
    {
        "id": "1fff8bc6a03db55f",
        "type": "api-current-state",
        "z": "544c6ea44ef141f3",
        "name": "nr_export_limit",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_number.nr_export_limit",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 2180,
        "y": 800,
        "wires": [
            [
                "68d04e714d79e868"
            ]
        ]
    },
    {
        "id": "68d04e714d79e868",
        "type": "api-call-service",
        "z": "544c6ea44ef141f3",
        "name": "",
        "server": "f2df2bfd.c1f268",
        "version": 5,
        "debugenabled": false,
        "domain": "number",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "number.grid_export_limit"
        ],
        "data": "{\"value\":\"{{payload}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2390,
        "y": 800,
        "wires": [
            [
                "abd146a8c117a567"
            ]
        ]
    },
    {
        "id": "b8c10f27e07d3dd1",
        "type": "api-current-state",
        "z": "544c6ea44ef141f3",
        "name": "if nr_export_limit = grid_export_limit",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 2,
        "halt_if": "$entities('number.grid_export_limit').state",
        "halt_if_type": "jsonata",
        "halt_if_compare": "is",
        "entity_id": "input_number.nr_export_limit",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1920,
        "y": 800,
        "wires": [
            [],
            [
                "1fff8bc6a03db55f"
            ]
        ]
    },
    {
        "id": "abd146a8c117a567",
        "type": "delay",
        "z": "544c6ea44ef141f3",
        "name": "",
        "pauseType": "delay",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2560,
        "y": 800,
        "wires": [
            [
                "55d717af6aa7686a"
            ]
        ]
    },
    {
        "id": "55d717af6aa7686a",
        "type": "api-current-state",
        "z": "544c6ea44ef141f3",
        "name": "if nr_export_limit = grid_export_limit",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 2,
        "halt_if": "$entities('number.grid_export_limit').state",
        "halt_if_type": "jsonata",
        "halt_if_compare": "is",
        "entity_id": "input_number.nr_export_limit",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 2780,
        "y": 800,
        "wires": [
            [
                "941cd5d7646512ea"
            ],
            [
                "7458c7939c8b2abe"
            ]
        ]
    },
    {
        "id": "7458c7939c8b2abe",
        "type": "api-current-state",
        "z": "544c6ea44ef141f3",
        "name": "nr_export_limit",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_number.nr_export_limit",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 2500,
        "y": 860,
        "wires": [
            [
                "ea466e811cfa0f3a"
            ]
        ]
    },
    {
        "id": "ea466e811cfa0f3a",
        "type": "api-call-service",
        "z": "544c6ea44ef141f3",
        "name": "",
        "server": "f2df2bfd.c1f268",
        "version": 5,
        "debugenabled": false,
        "domain": "number",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "number.grid_export_limit"
        ],
        "data": "{\"value\":\"{{payload}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2690,
        "y": 860,
        "wires": [
            [
                "38b5303e45bda48d"
            ]
        ]
    },
    {
        "id": "38b5303e45bda48d",
        "type": "delay",
        "z": "544c6ea44ef141f3",
        "name": "",
        "pauseType": "delay",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2860,
        "y": 860,
        "wires": [
            [
                "941cd5d7646512ea"
            ]
        ]
    },
    {
        "id": "d2b960f4bfe7d290",
        "type": "api-call-service",
        "z": "544c6ea44ef141f3",
        "name": "FVE Pretoky Status - Zakazuji přetoky..",
        "server": "c1542031.4fbb5",
        "version": 5,
        "debugenabled": false,
        "domain": "input_text",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_text.gw_fve_pretoky_status_set"
        ],
        "data": "{\"value\":\"Zakazuji přetoky..\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1270,
        "y": 1120,
        "wires": [
            [
                "2b3631322eb36d31"
            ]
        ]
    },
    {
        "id": "3f89bc27a7dbc73f",
        "type": "api-call-service",
        "z": "544c6ea44ef141f3",
        "name": "set Export Limit = 0W",
        "server": "28cac500.2618cc",
        "version": 5,
        "debugenabled": true,
        "domain": "number",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "number.grid_export_limit"
        ],
        "data": "{\"value\":\"0.0\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1960,
        "y": 1120,
        "wires": [
            [
                "140feb80750752bd"
            ]
        ]
    },
    {
        "id": "2b3631322eb36d31",
        "type": "delay",
        "z": "544c6ea44ef141f3",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1540,
        "y": 1120,
        "wires": [
            [
                "dcf0e28e1675ef0a"
            ]
        ]
    },
    {
        "id": "140feb80750752bd",
        "type": "delay",
        "z": "544c6ea44ef141f3",
        "name": "",
        "pauseType": "delay",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2140,
        "y": 1120,
        "wires": [
            [
                "58d0817c6a9aebaa"
            ]
        ]
    },
    {
        "id": "c2e4432be6a2ff21",
        "type": "api-call-service",
        "z": "544c6ea44ef141f3",
        "name": "set Export Limit = 0W",
        "server": "28cac500.2618cc",
        "version": 5,
        "debugenabled": true,
        "domain": "number",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "number.grid_export_limit"
        ],
        "data": "{\"value\":\"0.0\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2180,
        "y": 1180,
        "wires": [
            [
                "cb0bb5fd6f91247a"
            ]
        ]
    },
    {
        "id": "cb0bb5fd6f91247a",
        "type": "delay",
        "z": "544c6ea44ef141f3",
        "name": "",
        "pauseType": "delay",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2360,
        "y": 1180,
        "wires": [
            [
                "86e690e5b9f148d2"
            ]
        ]
    },
    {
        "id": "dcf0e28e1675ef0a",
        "type": "api-current-state",
        "z": "544c6ea44ef141f3",
        "name": "if Export Limit = 0W",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 2,
        "halt_if": "0.0",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "number.grid_export_limit",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1710,
        "y": 1120,
        "wires": [
            [],
            [
                "3f89bc27a7dbc73f"
            ]
        ]
    },
    {
        "id": "58d0817c6a9aebaa",
        "type": "api-current-state",
        "z": "544c6ea44ef141f3",
        "name": "if Export Limit = 0W",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 2,
        "halt_if": "0.0",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "number.grid_export_limit",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 2310,
        "y": 1120,
        "wires": [
            [
                "86e690e5b9f148d2"
            ],
            [
                "c2e4432be6a2ff21"
            ]
        ]
    },
    {
        "id": "5da37f9231a53122",
        "type": "api-current-state",
        "z": "544c6ea44ef141f3",
        "name": "if entity1 > entity2",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 2,
        "halt_if": "$entities('input_number.nr_export_limit').state",
        "halt_if_type": "jsonata",
        "halt_if_compare": "gt",
        "entity_id": "input_number.nr_export_limit",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1190,
        "y": 560,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "138d48d702c96914",
        "type": "server-state-changed",
        "z": "544c6ea44ef141f3",
        "name": "Spot < 0.20Kc",
        "server": "28cac500.2618cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.current_spot_electricity_price",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "0.20",
        "halt_if_type": "num",
        "halt_if_compare": "lte",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "1",
        "forType": "num",
        "forUnits": "seconds",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 990,
        "y": 560,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "86f3c97dc225baa4",
        "type": "server-state-changed",
        "z": "544c6ea44ef141f3",
        "name": "Spot <= $nr_export_minimal_price",
        "server": "28cac500.2618cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_number.nr_export_sales_tax_kwh",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "$entities('input_number.nr_export_limit').state",
        "halt_if_type": "jsonata",
        "halt_if_compare": "gte",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "1",
        "forType": "num",
        "forUnits": "seconds",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 1480,
        "y": 560,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "e86c4ff74c5cc06a",
        "type": "api-current-state",
        "z": "544c6ea44ef141f3",
        "name": "exp min price > tax",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 2,
        "halt_if": "$entities('input_number.nr_export_minimal_price').state",
        "halt_if_type": "jsonata",
        "halt_if_compare": "gt",
        "entity_id": "sensor.current_spot_electricity_price",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1770,
        "y": 560,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "bed5be6e07d785bf",
        "type": "server-state-changed",
        "z": "544c6ea44ef141f3",
        "name": "press BTN - blokace vybíjení",
        "server": "28cac500.2618cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_button.mode_battery_discharge_block",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "0",
        "forType": "num",
        "forUnits": "seconds",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 380,
        "y": 1620,
        "wires": [
            []
        ]
    },
    {
        "id": "0612b2019d4b1453",
        "type": "api-current-state",
        "z": "544c6ea44ef141f3",
        "name": "GoodWe Mode",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "select.inverter_operation_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 660,
        "y": 1620,
        "wires": [
            [
                "bb74044f8362aa33"
            ]
        ]
    },
    {
        "id": "bb74044f8362aa33",
        "type": "switch",
        "z": "544c6ea44ef141f3",
        "name": "if not Mode = Eco Discharge",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "eco_discharge",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 960,
        "y": 1620,
        "wires": [
            [
                "9d936633df1388d9",
                "a88b6385f810e70c"
            ]
        ]
    },
    {
        "id": "d6ade615294d4ff8",
        "type": "api-call-service",
        "z": "544c6ea44ef141f3",
        "name": "set GoodWe Mode = Eco Discharge",
        "server": "f2df2bfd.c1f268",
        "version": 5,
        "debugenabled": false,
        "domain": "select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "select.inverter_operation_mode"
        ],
        "data": "{\"option\":\"eco_discharge\"}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1460,
        "y": 1620,
        "wires": [
            [
                "37f59c7865a076a0"
            ]
        ]
    },
    {
        "id": "37f59c7865a076a0",
        "type": "api-call-service",
        "z": "544c6ea44ef141f3",
        "name": "set FVE Status = Blokace vybíjení baterie",
        "server": "f2df2bfd.c1f268",
        "version": 5,
        "debugenabled": false,
        "domain": "input_text",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_text.fve_status"
        ],
        "data": "{\"value\":\"Manuální blokace vybíjení\"}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1840,
        "y": 1620,
        "wires": [
            []
        ]
    },
    {
        "id": "a88b6385f810e70c",
        "type": "api-current-state",
        "z": "544c6ea44ef141f3",
        "name": "if not Eco Mode Power = 1%",
        "server": "28cac500.2618cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "1",
        "halt_if_type": "num",
        "halt_if_compare": "is_not",
        "entity_id": "number.eco_mode_power",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1260,
        "y": 1700,
        "wires": [
            [
                "9edbfb55bea8e09c"
            ],
            []
        ]
    },
    {
        "id": "9edbfb55bea8e09c",
        "type": "api-call-service",
        "z": "544c6ea44ef141f3",
        "name": "set Eco Mode Power = 1%",
        "server": "28cac500.2618cc",
        "version": 5,
        "debugenabled": true,
        "domain": "number",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "number.eco_mode_power"
        ],
        "data": "{\"value\":\"1.0\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1540,
        "y": 1700,
        "wires": [
            []
        ]
    },
    {
        "id": "9d936633df1388d9",
        "type": "delay",
        "z": "544c6ea44ef141f3",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1200,
        "y": 1620,
        "wires": [
            [
                "d6ade615294d4ff8"
            ]
        ]
    },
    {
        "id": "cca7d5fc0e8e5a4e",
        "type": "server-state-changed",
        "z": "544c6ea44ef141f3",
        "name": "press BTN - blokace nabíjení",
        "server": "28cac500.2618cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_button.mode_battery_charge_block",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "0",
        "forType": "num",
        "forUnits": "seconds",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 380,
        "y": 1920,
        "wires": [
            []
        ]
    },
    {
        "id": "68be96c537b03b5a",
        "type": "api-current-state",
        "z": "544c6ea44ef141f3",
        "name": "GoodWe Mode",
        "server": "f2df2bfd.c1f268",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "select.inverter_operation_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 680,
        "y": 1920,
        "wires": [
            [
                "d698af94ea5def7d"
            ]
        ]
    },
    {
        "id": "d698af94ea5def7d",
        "type": "switch",
        "z": "544c6ea44ef141f3",
        "name": "if not Mode = Eco Chrage",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "eco_charge",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 970,
        "y": 1920,
        "wires": [
            [
                "ec8930b0184b36a7",
                "0a35e42a77909d4d"
            ]
        ]
    },
    {
        "id": "ac5a128b632a939b",
        "type": "api-call-service",
        "z": "544c6ea44ef141f3",
        "name": "set GoodWe Mode = Eco Charge",
        "server": "f2df2bfd.c1f268",
        "version": 5,
        "debugenabled": false,
        "domain": "select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "select.inverter_operation_mode"
        ],
        "data": "{\"option\":\"eco_charge\"}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1460,
        "y": 1920,
        "wires": [
            [
                "0af4b9db73920681"
            ]
        ]
    },
    {
        "id": "0af4b9db73920681",
        "type": "api-call-service",
        "z": "544c6ea44ef141f3",
        "name": "set FVE Status = Manuální blokace nabíjení",
        "server": "f2df2bfd.c1f268",
        "version": 5,
        "debugenabled": false,
        "domain": "input_text",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_text.fve_status"
        ],
        "data": "{\"value\":\"Manuální blokace nabíjení\"}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1810,
        "y": 1920,
        "wires": [
            []
        ]
    },
    {
        "id": "0a35e42a77909d4d",
        "type": "api-current-state",
        "z": "544c6ea44ef141f3",
        "name": "if not Eco Mode Power = 0%",
        "server": "28cac500.2618cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "0",
        "halt_if_type": "num",
        "halt_if_compare": "is_not",
        "entity_id": "number.eco_mode_power",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1200,
        "y": 2000,
        "wires": [
            [
                "b45d00a03f98c24d"
            ],
            []
        ]
    },
    {
        "id": "b45d00a03f98c24d",
        "type": "api-call-service",
        "z": "544c6ea44ef141f3",
        "name": "set Eco Mode Power = 0%",
        "server": "28cac500.2618cc",
        "version": 5,
        "debugenabled": true,
        "domain": "number",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "number.eco_mode_power"
        ],
        "data": "{\"value\":\"0\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1480,
        "y": 2000,
        "wires": [
            []
        ]
    },
    {
        "id": "ec8930b0184b36a7",
        "type": "delay",
        "z": "544c6ea44ef141f3",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1200,
        "y": 1920,
        "wires": [
            [
                "ac5a128b632a939b"
            ]
        ]
    },
    {
        "id": "67f77c8b.68bf64",
        "type": "server-state-changed",
        "z": "04fc6f64b0f16b36",
        "name": "input Theme",
        "server": "82136dea.a6d7a",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_select.themes",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 370,
        "y": 140,
        "wires": [
            [
                "7af5c1af.bd9df"
            ]
        ]
    },
    {
        "id": "ca9ea279.a9188",
        "type": "api-call-service",
        "z": "04fc6f64b0f16b36",
        "name": "set Theme",
        "server": "82136dea.a6d7a",
        "version": 5,
        "debugenabled": false,
        "domain": "frontend",
        "service": "set_theme",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"name\":\"{{payload}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "output_location": "",
        "output_location_type": "none",
        "x": 718,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "7af5c1af.bd9df",
        "type": "api-render-template",
        "z": "04fc6f64b0f16b36",
        "name": "get Theme",
        "server": "8c51b0bb.698c3",
        "version": 0,
        "template": "{{ states('input_select.themes') }}",
        "resultsLocation": "payload",
        "resultsLocationType": "msg",
        "templateLocation": "payload",
        "templateLocationType": "msg",
        "x": 550,
        "y": 140,
        "wires": [
            [
                "ca9ea279.a9188"
            ]
        ]
    },
    {
        "id": "6f66da1c.253e94",
        "type": "inject",
        "z": "04fc6f64b0f16b36",
        "name": "strat HassOS",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "homeassistant.homeAssistant.isConnected",
        "payloadType": "global",
        "x": 339,
        "y": 188,
        "wires": [
            [
                "519278ea.12c4a8"
            ]
        ],
        "l": false
    },
    {
        "id": "519278ea.12c4a8",
        "type": "rbe",
        "z": "04fc6f64b0f16b36",
        "name": "",
        "func": "rbei",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 387,
        "y": 188,
        "wires": [
            [
                "7084ac9d.6f9d54"
            ]
        ],
        "l": false
    },
    {
        "id": "7084ac9d.6f9d54",
        "type": "switch",
        "z": "04fc6f64b0f16b36",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 1,
        "x": 435,
        "y": 188,
        "wires": [
            [
                "7af5c1af.bd9df"
            ]
        ],
        "l": false
    }
]